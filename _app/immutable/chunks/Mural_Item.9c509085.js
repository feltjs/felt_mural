import{n as A,p as H,e as J,c as V,a as D,d,o as f,i as g,I as k,u as W,q as z,v as Q,r as Z,G as x,A as E,j as m,J as $,K as O,L as X}from"./scheduler.a4956b2f.js";import{S as C,i as P,a as ee,t as te}from"./index.23824295.js";import{s as L}from"./dom.affe8f60.js";import{r as U}from"./Scaled.74b37ae2.js";function ne(o){let e,t,r,c;const s=o[14].default,n=H(s,o,o[13],null);return{c(){e=J("div"),n&&n.c(),this.h()},l(i){e=V(i,"DIV",{class:!0,tabindex:!0,role:!0});var _=D(e);n&&n.l(_),_.forEach(d),this.h()},h(){f(e,"class","surface svelte-1ktoghv"),f(e,"tabindex","0"),f(e,"role","button")},m(i,_){g(i,e,_),n&&n.m(e,null),o[15](e),t=!0,r||(c=[k(e,"pointerdown",o[1]),k(e,"pointerup",o[2]),k(e,"pointermove",o[3]),k(e,"pointerenter",o[4]),k(e,"pointerleave",o[5]),k(e,"pointercancel",o[6])],r=!0)},p(i,[_]){n&&n.p&&(!t||_&8192)&&W(n,s,i,i[13],t?Q(s,i[13],_,null):z(i[13]),null)},i(i){t||(ee(n,i),t=!0)},o(i){te(n,i),t=!1},d(i){i&&d(e),n&&n.d(i),o[15](null),r=!1,Z(c)}}}function oe(o,e,t){let{$$slots:r={},$$scope:c}=e,{scale:s=1}=e,{pointing:n=void 0}=e,{pointer_down:i=void 0}=e,{pointer_x:_=void 0}=e,{pointer_y:u=void 0}=e,{cancel_on_leave:a=!0}=e;const p=(l,G)=>{const K=h.getBoundingClientRect();t(9,_=(l-K.left)/s),t(10,u=(G-K.top)/s)},w=l=>{l.shiftKey||l.button>=3||(L(l),p(l.clientX,l.clientY),t(8,i=!0),j())},y=l=>{l.shiftKey||l.button>=3||(L(l),p(l.clientX,l.clientY),t(8,i=!1))},b=l=>{l.shiftKey||(L(l),p(l.clientX,l.clientY))},R=l=>{l.shiftKey||(L(l),p(l.clientX,l.clientY),t(7,n=!0))},q=l=>{l.shiftKey||(L(l),p(l.clientX,l.clientY),t(7,n=!1),a&&i&&(t(8,i=!1),N()))},M=l=>{l.shiftKey||(L(l),i&&(t(8,i=!1),N()))};let h;const j=()=>{document.activeElement!==h&&h.focus()},N=()=>{document.activeElement===h&&h.blur()};function B(l){x[l?"unshift":"push"](()=>{h=l,t(0,h)})}return o.$$set=l=>{"scale"in l&&t(11,s=l.scale),"pointing"in l&&t(7,n=l.pointing),"pointer_down"in l&&t(8,i=l.pointer_down),"pointer_x"in l&&t(9,_=l.pointer_x),"pointer_y"in l&&t(10,u=l.pointer_y),"cancel_on_leave"in l&&t(12,a=l.cancel_on_leave),"$$scope"in l&&t(13,c=l.$$scope)},[h,w,y,b,R,q,M,n,i,_,u,s,a,c,r,B]}class de extends C{constructor(e){super(),P(this,e,oe,ne,A,{scale:11,pointing:7,pointer_down:8,pointer_x:9,pointer_y:10,cancel_on_leave:12})}}const ie=o=>{const e=[];let t,r=!0,c="",s="";const n=o.length;for(let i=0;i<n;i++)t=o[i],t===" "?c&&s?(e.push(Number(c),Number(s)),c="",s="",r=!0):(c="",s=""):t===","?r=!1:r?c+=t:s+=t;return c&&s&&e.push(Number(c),Number(s)),e},ye=o=>o.points_data||(o.points_data=ie(o.points)),I="#666666",v=3,Y="none",be="#c7beef",le="#75a6d7",ke=()=>({id:crypto.randomUUID(),type:"polyline",points:""}),Le=(o=0,e=0,t=62,r=le)=>({id:crypto.randomUUID(),type:"circle",cx:o,cy:e,r:t,enable_fill:!0,fill:r}),se={x:o=>U(o,1),y:o=>U(o,1)},ge=(o,e)=>o.update(t=>{var c;const r={...t};for(const s in e){const n=e[s];if(n===void 0)continue;const i=se[s],_=i?i(n):n;if(_!==void 0)if(s==="append_points"){const u=r;for(let a=0;a<n.length;a+=2)u.points+=" "+n[a]+","+n[a+1],(c=u.points_data)==null||c.push(n[a],n[a+1])}else r[s]=_}return r});function re(o){const e=o.slice(),t=e[1];return e[12]=t.points,e}function ce(o){const e=o.slice(),t=e[1];return e[9]=t.cx,e[10]=t.cy,e[11]=t.r,e}function F(o){let e;function t(n,i){return n[1].type==="circle"?S:n[1].type==="polyline"?T:_e}function r(n,i){return i===S?ce(n):i===T?re(n):n}let c=t(o),s=c(r(o,c));return{c(){s.c(),e=E()},l(n){s.l(n),e=E()},m(n,i){s.m(n,i),g(n,e,i)},p(n,i){c===(c=t(n))&&s?s.p(r(n,c),i):(s.d(1),s=c(r(n,c)),s&&(s.c(),s.m(e.parentNode,e)))},d(n){n&&d(e),s.d(n)}}}function _e(o){return{c:m,l:m,m,p:m,d:m}}function T(o){let e,t,r,c,s;return{c(){e=O("polyline"),this.h()},l(n){e=X(n,"polyline",{points:!0,pathLength:!0,fill:!0,opacity:!0,stroke:!0,"stroke-width":!0}),D(e).forEach(d),this.h()},h(){f(e,"points",t=o[12]),f(e,"pathLength",o[7]),f(e,"fill",r=o[6]?o[5]??Y:"none"),f(e,"opacity",o[4]),f(e,"stroke",c=o[3]??I),f(e,"stroke-width",s=o[2]??v)},m(n,i){g(n,e,i)},p(n,i){i&2&&t!==(t=n[12])&&f(e,"points",t),i&128&&f(e,"pathLength",n[7]),i&96&&r!==(r=n[6]?n[5]??Y:"none")&&f(e,"fill",r),i&16&&f(e,"opacity",n[4]),i&8&&c!==(c=n[3]??I)&&f(e,"stroke",c),i&4&&s!==(s=n[2]??v)&&f(e,"stroke-width",s)},d(n){n&&d(e)}}}function S(o){let e,t,r,c,s,n,i;return{c(){e=O("circle"),this.h()},l(_){e=X(_,"circle",{cx:!0,cy:!0,r:!0,pathLength:!0,fill:!0,opacity:!0,stroke:!0,"stroke-width":!0}),D(e).forEach(d),this.h()},h(){f(e,"cx",t=o[9]),f(e,"cy",r=o[10]),f(e,"r",c=o[11]),f(e,"pathLength",o[7]),f(e,"fill",s=o[6]?o[5]||"red":"none"),f(e,"opacity",o[4]),f(e,"stroke",n=o[3]??I),f(e,"stroke-width",i=o[2]??v)},m(_,u){g(_,e,u)},p(_,u){u&2&&t!==(t=_[9])&&f(e,"cx",t),u&2&&r!==(r=_[10])&&f(e,"cy",r),u&2&&c!==(c=_[11])&&f(e,"r",c),u&128&&f(e,"pathLength",_[7]),u&96&&s!==(s=_[6]?_[5]||"red":"none")&&f(e,"fill",s),u&16&&f(e,"opacity",_[4]),u&8&&n!==(n=_[3]??I)&&f(e,"stroke",n),u&4&&i!==(i=_[2]??v)&&f(e,"stroke-width",i)},d(_){_&&d(e)}}}function fe(o){let e,t=!o[8]&&F(o);return{c(){t&&t.c(),e=E()},l(r){t&&t.l(r),e=E()},m(r,c){t&&t.m(r,c),g(r,e,c)},p(r,[c]){r[8]?t&&(t.d(1),t=null):t?t.p(r,c):(t=F(r),t.c(),t.m(e.parentNode,e))},i:m,o:m,d(r){r&&d(e),t&&t.d(r)}}}function ue(o,e,t){let r,c,s,n,i,_,u,a,p=m,w=()=>(p(),p=$(y,b=>t(1,a=b)),y);o.$$.on_destroy.push(()=>p());let{item:y}=e;return w(),o.$$set=b=>{"item"in b&&w(t(0,y=b.item))},o.$$.update=()=>{o.$$.dirty&2&&t(8,{hidden:r,path_length:c,enable_fill:s,fill:n,opacity:i,stroke:_,stroke_width:u}=a,r,(t(7,c),t(1,a)),(t(6,s),t(1,a)),(t(5,n),t(1,a)),(t(4,i),t(1,a)),(t(3,_),t(1,a)),(t(2,u),t(1,a)))},[y,a,u,_,i,n,s,c,r]}class we extends C{constructor(e){super(),P(this,e,ue,fe,A,{item:0})}}export{v as D,we as M,de as S,Y as a,be as b,ke as c,Le as d,I as e,se as p,ye as t,ge as u};
