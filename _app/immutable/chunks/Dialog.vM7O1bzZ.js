import{n as W,p as j,e as b,c as E,a as D,d as h,o as f,i as B,u as Q,q as Y,v as F,O as H,P as J,G as P,I as R,Q as $,s as ee,f as te,y as w,E as V,g as C,r as oe}from"./scheduler.ESLvGD48.js";import{S as K,i as M,a as O,t as T,c as ne,b as se,m as le,d as ie,g as ae,e as de}from"./index.lx0Epbk5.js";import{s as re,i as ue}from"./dom.z-RU6ZBL.js";const ce=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function fe(t){let e,n,s;const i=t[4].default,l=j(i,t,t[3],null);return{c(){e=b("div"),l&&l.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var d=D(e);l&&l.l(d),d.forEach(h),this.h()},h(){f(e,"class","teleport svelte-gjkzv5"),e.hidden=n=!t[1]},m(o,d){B(o,e,d),l&&l.m(e,null),t[5](e),s=!0},p(o,[d]){l&&l.p&&(!s||d&8)&&Q(l,i,o,o[3],s?F(i,o[3],d,null):Y(o[3]),null),(!s||d&2&&n!==(n=!o[1]))&&(e.hidden=n)},i(o){s||(O(l,o),s=!0)},o(o){T(l,o),s=!1},d(o){o&&h(e),l&&l.d(o),t[5](null)}}}function _e(t,e,n){let{$$slots:s={},$$scope:i}=e;const l=H();let{to:o}=e,d,_=!1;const g=(u,c)=>{n(1,_=!0),c.appendChild(u),l("move",{el:u,to:c})};J(()=>{d?.parentNode?.removeChild(d)});function a(u){P[u?"unshift":"push"](()=>{d=u,n(0,d)})}return t.$$set=u=>{"to"in u&&n(2,o=u.to),"$$scope"in u&&n(3,i=u.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&d&&o&&g(d,o)},[d,_,o,i,s,a]}class me extends K{constructor(e){super(),M(this,e,_e,fe,W,{to:2})}}const{window:he}=ce,ge=t=>({}),A=t=>({close:t[7]});function L(t){let e;const n=t[10].default,s=j(n,t,t[15],A);return{c(){s&&s.c()},l(i){s&&s.l(i)},m(i,l){s&&s.m(i,l),e=!0},p(i,l){s&&s.p&&(!e||l&32768)&&Q(s,n,i,i[15],e?F(n,i[15],l,ge):Y(i[15]),A)},i(i){e||(O(s,i),e=!0)},o(i){T(s,i),e=!1},d(i){s&&s.d(i)}}}function pe(t){let e,n,s,i,l,o,d,_,g,a=t[6]&&L(t);return{c(){e=b("div"),n=b("div"),s=b("div"),i=b("div"),l=ee(),o=b("div"),a&&a.c(),this.h()},l(u){e=E(u,"DIV",{class:!0,role:!0,"aria-modal":!0,tabindex:!0});var c=D(e);n=E(c,"DIV",{class:!0});var p=D(n);s=E(p,"DIV",{class:!0});var m=D(s);i=E(m,"DIV",{class:!0,role:!0}),D(i).forEach(h),l=te(m),o=E(m,"DIV",{class:!0,role:!0});var k=D(o);a&&a.l(k),k.forEach(h),m.forEach(h),p.forEach(h),c.forEach(h),this.h()},h(){f(i,"class","dialog_bg svelte-1u54ehg"),f(i,"role","none"),w(i,"ready",t[6]),f(o,"class","dialog_content svelte-1u54ehg"),f(o,"role","none"),f(s,"class","dialog_wrapper svelte-1u54ehg"),f(n,"class","dialog_layout svelte-1u54ehg"),f(e,"class","dialog svelte-1u54ehg"),f(e,"role","dialog"),f(e,"aria-modal",""),f(e,"tabindex","-1"),w(e,"ready",t[6]),w(e,"layout-page",t[0]==="page"),V(e,"z-index",100+t[1])},m(u,c){B(u,e,c),C(e,n),C(n,s),C(s,i),C(s,l),C(s,o),a&&a.m(o,null),t[11](o),t[13](e),d=!0,_||(g=[R(i,"mousedown",t[7]),R(o,"mousedown",t[12])],_=!0)},p(u,c){(!d||c&64)&&w(i,"ready",u[6]),u[6]?a?(a.p(u,c),c&64&&O(a,1)):(a=L(u),a.c(),O(a,1),a.m(o,null)):a&&(ae(),T(a,1,1,()=>{a=null}),de()),(!d||c&64)&&w(e,"ready",u[6]),(!d||c&1)&&w(e,"layout-page",u[0]==="page"),c&2&&V(e,"z-index",100+u[1])},i(u){d||(O(a),d=!0)},o(u){T(a),d=!1},d(u){u&&h(e),a&&a.d(),t[11](null),t[13](null),_=!1,oe(g)}}}function ye(t){let e,n,s,i;return e=new me({props:{to:t[3],$$slots:{default:[pe]},$$scope:{ctx:t}}}),e.$on("move",t[14]),{c(){ne(e.$$.fragment)},l(l){se(e.$$.fragment,l)},m(l,o){le(e,l,o),n=!0,s||(i=R(he,"keydown",function(){$(t[2]?t[8]:void 0)&&(t[2]?t[8]:void 0).apply(this,arguments)}),s=!0)},p(l,[o]){t=l;const d={};o&8&&(d.to=t[3]),o&32883&&(d.$$scope={dirty:o,ctx:t}),e.$set(d)},i(l){n||(O(e.$$.fragment,l),n=!0)},o(l){T(e.$$.fragment,l),n=!1},d(l){ie(e,l),s=!1,i()}}}const N="body",G="dialog_open",q="--dialog_open_padding_right",z="dialog";function ve(t,e,n){let{$$slots:s={},$$scope:i}=e;const l=H();let{container:o=void 0}=e,{layout:d="centered"}=e,{index:_=0}=e,{active:g=!0}=e,a;const u=r=>{if(r)n(3,a=r);else{const y=document.getElementById(z);if(y)n(3,a=y);else{const v=document.querySelector(N);if(!v)throw Error(`Cannot find dialog root element with selector '${N}'`);n(3,a=document.createElement("div")),n(3,a.id=z,a),n(3,a.style.display="contents",a),v.appendChild(a)}}};let c,p;const m=r=>{r&&re(r),l("close")},k=r=>{if(r.key==="Escape"&&!ue(r.target)){const y=c.parentElement,v=y?.parentElement?.children,I=Array.prototype.indexOf.call(v,y);(!v||I===v.length-1||I===-1)&&m(r)}};let S=!1;J(()=>{_===0&&(document.body.classList.remove(G),document.body.style.setProperty(q,null))});function U(r){P[r?"unshift":"push"](()=>{p=r,n(5,p)})}const X=r=>{r.target===p&&m(r)};function Z(r){P[r?"unshift":"push"](()=>{c=r,n(4,c)})}const x=()=>{const r=Number(window.getComputedStyle(document.body).getPropertyValue("padding-right").slice(0,-2))||0,y=document.body.clientWidth;document.body.classList.add(G);const I=document.body.clientWidth-y;I>0&&document.body.style.setProperty(q,I+r+"px"),n(6,S=!0),c.focus()};return t.$$set=r=>{"container"in r&&n(9,o=r.container),"layout"in r&&n(0,d=r.layout),"index"in r&&n(1,_=r.index),"active"in r&&n(2,g=r.active),"$$scope"in r&&n(15,i=r.$$scope)},t.$$.update=()=>{t.$$.dirty&512&&u(o)},[d,_,g,a,c,p,S,m,k,o,s,U,X,Z,x,i]}class De extends K{constructor(e){super(),M(this,e,ve,ye,W,{container:9,layout:0,index:1,active:2})}}export{De as D,ce as g};
