import{x as ke,w as Ne,n as K,p as ee,z as B,s as L,a6 as bt,d as p,f as R,g as T,i as N,u as te,q as ne,v as le,a3 as kt,a4 as yt,e as S,c as I,a as M,o as v,j as U,G as me,a7 as xe,a8 as Se,E as Ie,F as H,L as Oe,_ as P,C as ce,r as Pe,t as se,m as ve,b as oe,h as Me,$ as wt,a2 as Be,k as Le,a9 as be,aa as jt,M as Yt,a5 as Bt,y as Ke,ab as Kt}from"../chunks/scheduler.a18b0e8d.js";import{S as X,i as G,a as x,t as D,c as W,b as Q,m as F,d as J,g as de,e as ge}from"../chunks/index.a1abe0a0.js";import"../chunks/index.928acef2.js";import{w as ue}from"../chunks/index.957425c2.js";import{g as Et}from"../chunks/globals.7f7f1b26.js";import{s as ie,i as Te}from"../chunks/dom.affe8f60.js";import{e as fe,u as Ue,o as Xt,d as Tt}from"../chunks/each.de273824.js";import{g as Re,a as Xe}from"../chunks/spread.8a54911c.js";import{s as Ae}from"../chunks/string.d1f5beee.js";const Gt=!0,Il=Object.freeze(Object.defineProperty({__proto__:null,prerender:Gt},Symbol.toStringTag,{value:"Module"}));const qt=[{name:"hue_1",light:"210",comment:"blue"},{name:"color_1",light:"hsl(var(--hue_1), 55%, 50%)",dark:"hsl(var(--hue_1), 55%, 75%)"},{name:"hue_2",light:"120",comment:"green, triad with `--color_3` and `--color_4`"},{name:"color_2",light:"hsl(var(--hue_2), 55%, 32%)",dark:"hsl(var(--hue_2), 45%, 70%)",comment:"same as THEME_COLOR"},{name:"hue_3",light:"251",comment:"purple, triad with `--color_2` and `--color_4`"},{name:"color_3",light:"hsl(var(--hue_3), 50%, 50%)",dark:"hsl(var(--hue_3), 50%, 75%)"},{name:"hue_4",light:"26",comment:"orange, triad with `--color_2` and `--color_3`"},{name:"color_4",light:"hsl(var(--hue_4), 55%, 50%)",dark:"hsl(var(--hue_4), 65%, 75%)"},{name:"hue_5",light:"0",comment:"red"},{name:"color_5",light:"hsl(var(--hue_5), 50%, 50%)",dark:"hsl(var(--hue_5), 50%, 65%)"},{name:"hue_6",light:"32",comment:"brown"},{name:"color_6",light:"hsl(var(--hue_6), 97%, 22%)",dark:"hsl(var(--hue_6), 32%, 75%)"},{name:"hue_7",light:"335",comment:"pink"},{name:"color_7",light:"hsl(var(--hue_7), 74%, 56%)",dark:"hsl(var(--hue_7), 74%, 76%)"},{name:"darken_1",light:"#0000000f",comment:"6%"},{name:"darken_2",light:"#0000001f",comment:"12%"},{name:"darken_3",light:"#00000036",comment:"21%"},{name:"darken_4",light:"#00000052",comment:"32%"},{name:"darken_5",light:"#00000073",comment:"45%"},{name:"darken_6",light:"#000000a6",comment:"65%"},{name:"darken_7",light:"#000000cc",comment:"80%"},{name:"darken_8",light:"#000000e3",comment:"89%"},{name:"darken_9",light:"#000000f5",comment:"96%"},{name:"lighten_1",light:"#ffffff0f",comment:"6%"},{name:"lighten_2",light:"#ffffff1f",comment:"12%"},{name:"lighten_3",light:"#ffffff36",comment:"21%"},{name:"lighten_4",light:"#ffffff52",comment:"32%"},{name:"lighten_5",light:"#ffffff73",comment:"45%"},{name:"lighten_6",light:"#ffffffa6",comment:"65%"},{name:"lighten_7",light:"#ffffffcc",comment:"80%"},{name:"lighten_8",light:"#ffffffe3",comment:"89%"},{name:"lighten_9",light:"#fffffff5",comment:"96%"},{name:"tint_hue",light:"var(--hue_4)"},{name:"tint_saturation",light:"11%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 96%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 7%)"},{name:"fg",light:"hsl(var(--tint_hue), var(--tint_saturation), 7%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 96%)"},{name:"bg_1",light:"var(--lighten_1)",dark:"var(--darken_1)"},{name:"bg_2",light:"var(--lighten_2)",dark:"var(--darken_2)"},{name:"bg_3",light:"var(--lighten_3)",dark:"var(--darken_3)"},{name:"bg_4",light:"var(--lighten_4)",dark:"var(--darken_4)"},{name:"bg_5",light:"var(--lighten_5)",dark:"var(--darken_5)"},{name:"bg_6",light:"var(--lighten_6)",dark:"var(--darken_6)"},{name:"bg_7",light:"var(--lighten_7)",dark:"var(--darken_7)"},{name:"bg_8",light:"var(--lighten_8)",dark:"var(--darken_8)"},{name:"bg_9",light:"var(--lighten_9)",dark:"var(--darken_9)"},{name:"fg_1",light:"var(--darken_1)",dark:"var(--lighten_1)"},{name:"fg_2",light:"var(--darken_2)",dark:"var(--lighten_2)"},{name:"fg_3",light:"var(--darken_3)",dark:"var(--lighten_3)"},{name:"fg_4",light:"var(--darken_4)",dark:"var(--lighten_4)"},{name:"fg_5",light:"var(--darken_5)",dark:"var(--lighten_5)"},{name:"fg_6",light:"var(--darken_6)",dark:"var(--lighten_6)"},{name:"fg_7",light:"var(--darken_7)",dark:"var(--lighten_7)"},{name:"fg_8",light:"var(--darken_8)",dark:"var(--lighten_8)"},{name:"fg_9",light:"var(--darken_9)",dark:"var(--lighten_9)"},{name:"text_color",light:"var(--text_1)"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 80%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 32%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 65%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 48%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 50%)"},{name:"text_disabled",light:"var(--text_3)"},{name:"text_active",light:"hsl(var(--hue_1), 55%, 40%);",dark:"hsl(var(--hue_1), 65%, 65%);"},{name:"line_height",light:"1.25"},{name:"font_family",light:"system-ui, ui-sans-serif, 'Segoe UI Variable Text', 'Segoe UI', Meiryo, Roboto, 'Helvetica Neue', Arial, sans-serif"},{name:"font_family_mono",light:"ui-monospace, 'Fira Mono', monospace"},{name:"size_xs",light:"1rem"},{name:"size_sm",light:"1.3rem"},{name:"size_md",light:"1.6rem"},{name:"size_lg",light:"2.04rem"},{name:"size_xl",light:"2.59rem"},{name:"size_xl2",light:"3.29rem"},{name:"size_xl3",light:"4.19rem"},{name:"size_xl4",light:"5.33rem"},{name:"size_xl5",light:"6.78rem"},{name:"size_xl6",light:"8.62rem"},{name:"size_xl7",light:"10.97rem"},{name:"size_xl8",light:"13.95rem"},{name:"size_xl9",light:"17.74rem"},{name:"link_color",light:"hsl(var(--hue_1), 61%, 35%)",dark:"hsl(var(--hue_1), 61%, 58%)"},{name:"text_decoration",light:"none"},{name:"text_decoration_hover",light:"underline"},{name:"text_decoration_selected",light:"underline"},{name:"link_active",light:"var(--text_color)"},{name:"spacing_xs5",light:"0.1rem"},{name:"spacing_xs4",light:"0.2rem"},{name:"spacing_xs3",light:"0.3rem"},{name:"spacing_xs2",light:"0.4rem"},{name:"spacing_xs",light:"0.6rem"},{name:"spacing_sm",light:"0.8rem"},{name:"spacing_md",light:"1rem"},{name:"spacing_lg",light:"1.3rem"},{name:"spacing_xl",light:"1.6rem"},{name:"spacing_xl2",light:"2.1rem"},{name:"spacing_xl3",light:"2.6rem"},{name:"spacing_xl4",light:"3.3rem"},{name:"spacing_xl5",light:"4.2rem"},{name:"spacing_xl6",light:"5.4rem"},{name:"spacing_xl7",light:"6.9rem"},{name:"spacing_xl8",light:"8.7rem"},{name:"spacing_xl9",light:"11.1rem"},{name:"width_md",light:"800px"},{name:"width_sm",light:"320px"},{name:"border_color",light:"var(--border_3)"},{name:"border_1",light:"hsl(var(--tint_hue), 60%, 20%, 15%)",dark:"hsl(var(--tint_hue), 60%, 80%, 85%)"},{name:"border_2",light:"hsl(var(--tint_hue), 60%, 20%, 25%)",dark:"hsl(var(--tint_hue), 60%, 80%, 70%)"},{name:"border_3",light:"hsl(var(--tint_hue), 60%, 20%, 35%)",dark:"hsl(var(--tint_hue), 60%, 80%, 50%)"},{name:"border_4",light:"hsl(var(--tint_hue), 60%, 20%, 45%)",dark:"hsl(var(--tint_hue), 60%, 80%, 40%)"},{name:"border_5",light:"hsl(var(--tint_hue), 60%, 20%, 60%)",dark:"hsl(var(--tint_hue), 60%, 80%, 30%)"},{name:"border_disabled",light:"var(--border_3)"},{name:"border_width",light:"var(--border_width_1)"},{name:"border_width_1",light:"1px"},{name:"border_width_2",light:"2px"},{name:"border_width_3",light:"3px"},{name:"border_width_4",light:"4px"},{name:"border_width_5",light:"6px"},{name:"border_width_6",light:"8px"},{name:"border_style",light:"solid"},{name:"outline_width",light:"var(--outline_width_1)"},{name:"outline_width_1",light:"0"},{name:"outline_width_2",light:"var(--border_width_2)"},{name:"outline_width_3",light:"var(--border_width_1)"},{name:"outline_style",light:"solid"},{name:"outline_color",light:"var(--color_1)"},{name:"button_bg",light:"var(--fg_1)"},{name:"button_bg_hover",light:"var(--fg_2)"},{name:"button_bg_active",light:"var(--bg_3)"},{name:"button_bg_disabled",light:"transparent"},{name:"input_bg",light:"var(--bg_5)"},{name:"input_padding_y",light:"var(--spacing_md)"},{name:"input_padding_x",light:"var(--spacing_lg)"},{name:"input_width_min",light:"100px"},{name:"input_height",light:"var(--spacing_xl5)"},{name:"input_height_sm",light:"var(--spacing_xl4)"},{name:"input_height_inner",light:"calc(var(--input_height) - 2 * var(--border_width) - 2 * var(--input_padding_y))"},{name:"box_shadow",light:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.28), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.28)",dark:"2px 4px 9px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 14px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"box_shadow_lg",light:"2px 6px 14px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.8), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 7%, 0.8)",dark:"2px 6px 18px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5)), 2px 6px 48px hsla(var(--tint_hue), var(--tint_saturation), 82%, var(--faded_5))"},{name:"drop_shadow",light:"drop-shadow(var(--box_shadow))"},{name:"drop_shadow_lg",light:"drop-shadow(var(--box_shadow_lg))"},{name:"icon_size",light:"var(--icon_size_md)"},{name:"icon_size_xs",light:"18px"},{name:"icon_size_sm",light:"32px"},{name:"icon_size_md",light:"48px"},{name:"icon_size_lg",light:"80px"},{name:"icon_size_xl",light:"128px"},{name:"icon_size_xl2",light:"196px"},{name:"icon_size_xl3",light:"316px"},{name:"icon_size_xl4",light:"512px"},{name:"duration_1",light:"0.08s"},{name:"duration_2",light:"0.2s"},{name:"duration_3",light:"0.5s"},{name:"duration_4",light:"1s"},{name:"duration_5",light:"1.5s"},{name:"duration_6",light:"3s"},{name:"faded_1",light:"86%"},{name:"faded_2",light:"62%"},{name:"faded_3",light:"38%"},{name:"faded_4",light:"24%"},{name:"faded_5",light:"15%"},{name:"faded_6",light:"9%"},{name:"disabled_opacity",light:"var(--faded_1)"},{name:"border_radius",light:"var(--border_radius_md)"},{name:"border_radius_md",light:"calc(var(--input_height) / 2)"},{name:"border_radius_sm",light:"calc(var(--border_radius_md) / 1.618)"},{name:"border_radius_xs",light:"calc(var(--border_radius_sm) / 1.618)"},{name:"border_radius_xs2",light:"calc(var(--border_radius_xs) / 1.618)"}],Ct={name:"base",variables:[]},He=[Ct,{name:"low contrast",variables:[{name:"tint_saturation",light:"8%"},{name:"bg",light:"hsl(var(--tint_hue), var(--tint_saturation), 86%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 18%)"}]},{name:"high contrast",variables:[{name:"bg",light:"#fff",dark:"#000"},{name:"text_1",light:"hsl(var(--tint_hue), var(--tint_saturation), 8%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 90%)"},{name:"text_2",light:"hsl(var(--tint_hue), var(--tint_saturation), 16%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 83%)"},{name:"text_3",light:"hsl(var(--tint_hue), var(--tint_saturation), 24%)",dark:"hsl(var(--tint_hue), var(--tint_saturation), 75%)"}]}],Ve=["light","auto","dark"],Wt="#257e25",Ft=n=>{n==="dark"||n!=="light"&&matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},je="color-scheme",Jt=(n,e=je)=>{try{n===null?localStorage.removeItem(e):localStorage.setItem(e,n)}catch{}},Qt=(n="auto",e=je)=>{let t;try{t=localStorage.getItem(e)}catch{return n}return Ve.includes(t)?t:n},St="theme",Zt=(n,e=St)=>{try{n===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(n))}catch{}},$t=(n=He[0],e=St)=>{try{const t=localStorage.getItem(e),l=t===null?t:JSON.parse(t);if(l)return l}catch{}return n},en=(n="light",e=je)=>`
	try {
		let c = localStorage.getItem('${e}');
		if (c === 'auto' || (c !== 'dark' && c !== 'light')) {
			c = matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
		}
		if (c === 'dark') document.documentElement.classList.add('dark');
	} catch (_) { ${n==="dark"?"document.documentElement.classList.add('dark');":""} }
`,tn=n=>`<style nonce="%sveltekit.nonce%">
	${n}
</style>`,nn=(n,e={})=>{const{comments:t=!1,id:l=null,empty_default_theme:i=!0,specificity:a=2}=e,s=n.name===He[0].name?i?null:qt:n.variables;if(!(s!=null&&s.length))return"";const o=s.map(c=>Ge(c)).filter(Boolean),r=s.map(c=>Ge(c,!0,t)).filter(Boolean),_=(l?"#"+l:":root").repeat(a);return`${o.length?`${_} {
	${o.join(`
	`)}
}`:""}
${r.length?`${_}.dark {
	${r.join(`
	`)}
}`:""}
`.trim()},Ge=(n,e=!1,t=!0)=>{const l=e?n.dark:n.light;return l?"--"+n.name+": "+l+";"+(t&&n.comment?" /* "+n.comment+" */":""):""},It=Symbol("theme"),ln=()=>Ne(It),sn=n=>ke(It,n),Ot=Symbol("color_scheme"),on=()=>Ne(Ot),rn=n=>ke(Ot,n),an=n=>({style:n&1,theme_style_html:n&2,theme_setup_script:n&4,selected_theme:n&8,selected_color_scheme:n&16}),qe=n=>({style:n[0],theme_style_html:n[1],theme_setup_script:n[2],selected_theme:n[3],selected_color_scheme:n[4]});function We(n){let e,t;return{c(){e=new kt(!1),t=B(),this.h()},l(l){e=yt(l,!1),t=B(),this.h()},h(){e.a=t},m(l,i){e.m(n[1],l,i),N(l,t,i)},p(l,i){i&2&&e.p(l[1])},d(l){l&&(p(t),e.d())}}}function Fe(n){let e,t,l,i,a,s;return{c(){e=S("meta"),t=L(),l=S("meta"),i=L(),a=S("script"),s=new kt(!1),this.h()},l(o){e=I(o,"META",{name:!0,content:!0}),t=R(o),l=I(o,"META",{name:!0,content:!0}),i=R(o),a=I(o,"SCRIPT",{});var r=M(a);s=yt(r,!1),r.forEach(p),this.h()},h(){v(e,"name","color-scheme"),v(e,"content",n[6]),v(l,"name","theme-color"),v(l,"content",n[5]),s.a=null},m(o,r){N(o,e,r),N(o,t,r),N(o,l,r),N(o,i,r),N(o,a,r),s.m(n[2],a)},p(o,r){r&64&&v(e,"content",o[6]),r&32&&v(l,"content",o[5]),r&4&&s.p(o[2])},d(o){o&&(p(e),p(t),p(l),p(i),p(a))}}}function _n(n){let e,t,l,i,a=n[1]&&We(n),s=n[2]&&Fe(n);const o=n[22].default,r=ee(o,n,n[21],qe);return{c(){a&&a.c(),e=B(),s&&s.c(),t=B(),l=L(),r&&r.c()},l(_){const c=bt("svelte-1qw2uo0",document.head);a&&a.l(c),e=B(),s&&s.l(c),t=B(),c.forEach(p),l=R(_),r&&r.l(_)},m(_,c){a&&a.m(document.head,null),T(document.head,e),s&&s.m(document.head,null),T(document.head,t),N(_,l,c),r&&r.m(_,c),i=!0},p(_,[c]){_[1]?a?a.p(_,c):(a=We(_),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null),_[2]?s?s.p(_,c):(s=Fe(_),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),r&&r.p&&(!i||c&2097183)&&te(r,o,_,_[21],i?le(o,_[21],c,an):ne(_[21]),qe)},i(_){i||(x(r,_),i=!0)},o(_){D(r,_),i=!1},d(_){_&&p(l),a&&a.d(_),p(e),s&&s.d(_),p(t),r&&r.d(_)}}}function cn(n,e,t){let l,i,a,s,o=U,r=()=>(o(),o=me(y,C=>t(19,s=C)),y),_,c=U,m=()=>(c(),c=me(b,C=>t(20,_=C)),b);n.$$.on_destroy.push(()=>o()),n.$$.on_destroy.push(()=>c());let{$$slots:d={},$$scope:f}=e,{sync_color_scheme:u=Ft}=e,{load_color_scheme:h=Qt}=e,{save_color_scheme:g=Jt}=e,{load_theme:O=$t}=e,{save_theme:w=Zt}=e,{selected_theme:y=ue(O())}=e;r(),sn(y);let{selected_color_scheme:b=ue(h())}=e;m(),rn(b);let{color_scheme_fallback:k=void 0}=e,{color_scheme_css:z=void 0}=e,{theme_color:A=void 0}=e,{style:V=null}=e,{theme_style_html:q=null}=e,{theme_setup_script:j=null}=e,Z=0,$=0,re=0;return n.$$set=C=>{"sync_color_scheme"in C&&t(7,u=C.sync_color_scheme),"load_color_scheme"in C&&t(8,h=C.load_color_scheme),"save_color_scheme"in C&&t(9,g=C.save_color_scheme),"load_theme"in C&&t(10,O=C.load_theme),"save_theme"in C&&t(11,w=C.save_theme),"selected_theme"in C&&r(t(3,y=C.selected_theme)),"selected_color_scheme"in C&&m(t(4,b=C.selected_color_scheme)),"color_scheme_fallback"in C&&t(12,k=C.color_scheme_fallback),"color_scheme_css"in C&&t(13,z=C.color_scheme_css),"theme_color"in C&&t(14,A=C.theme_color),"style"in C&&t(0,V=C.style),"theme_style_html"in C&&t(1,q=C.theme_style_html),"theme_setup_script"in C&&t(2,j=C.theme_setup_script),"$$scope"in C&&t(21,f=C.$$scope)},n.$$.update=()=>{n.$$.dirty&524288&&t(18,l=s.name),n.$$.dirty&786432&&t(0,V=l===Ct.name?null:nn(s)),n.$$.dirty&1&&t(1,q=V?tn(V):null),n.$$.dirty&4096&&t(2,j=en(k)),n.$$.dirty&1081472&&t(15,Z++,Z)&&(u==null||u(_)),n.$$.dirty&1114624&&t(16,$++,$)&&(g==null||g(_)),n.$$.dirty&657408&&t(17,re++,re)&&(w==null||w(s)),n.$$.dirty&12288&&t(6,i=z??(k==="dark"||k==="light"?k:matchMedia("(prefers-color-scheme: dark)").matches?"dark light":"light dark")),n.$$.dirty&16384&&t(5,a=A??Wt)},[V,q,j,y,b,a,i,u,h,g,O,w,k,z,A,Z,$,re,l,s,_,f,d]}class un extends X{constructor(e){super(),G(this,e,cn,_n,K,{sync_color_scheme:7,load_color_scheme:8,save_color_scheme:9,load_theme:10,save_theme:11,selected_theme:3,selected_color_scheme:4,color_scheme_fallback:12,color_scheme_css:13,theme_color:14,style:0,theme_style_html:1,theme_setup_script:2})}}function hn(n){let e,t,l;const i=n[4].default,a=ee(i,n,n[3],null);return{c(){e=S("div"),a&&a.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var o=M(e);a&&a.l(o),o.forEach(p),this.h()},h(){v(e,"class","teleport svelte-gjkzv5"),e.hidden=t=!n[1]},m(s,o){N(s,e,o),a&&a.m(e,null),n[5](e),l=!0},p(s,[o]){a&&a.p&&(!l||o&8)&&te(a,i,s,s[3],l?le(i,s[3],o,null):ne(s[3]),null),(!l||o&2&&t!==(t=!s[1]))&&(e.hidden=t)},i(s){l||(x(a,s),l=!0)},o(s){D(a,s),l=!1},d(s){s&&p(e),a&&a.d(s),n[5](null)}}}function mn(n,e,t){let{$$slots:l={},$$scope:i}=e;const a=xe();let{to:s}=e,o,r=!1;const _=(m,d)=>{t(1,r=!0),d.appendChild(m),a("move",{el:m,to:d})};Se(()=>{var m;(m=o==null?void 0:o.parentNode)==null||m.removeChild(o)});function c(m){Ie[m?"unshift":"push"](()=>{o=m,t(0,o)})}return n.$$set=m=>{"to"in m&&t(2,s=m.to),"$$scope"in m&&t(3,i=m.$$scope)},n.$$.update=()=>{n.$$.dirty&5&&o&&s&&_(o,s)},[o,r,s,i,l,c]}class fn extends X{constructor(e){super(),G(this,e,mn,hn,K,{to:2})}}const{window:dn}=Et,gn=n=>({}),Je=n=>({close:n[7]});function Qe(n){let e;const t=n[10].default,l=ee(t,n,n[15],Je);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,a){l&&l.m(i,a),e=!0},p(i,a){l&&l.p&&(!e||a&32768)&&te(l,t,i,i[15],e?le(t,i[15],a,gn):ne(i[15]),Je)},i(i){e||(x(l,i),e=!0)},o(i){D(l,i),e=!1},d(i){l&&l.d(i)}}}function pn(n){let e,t,l,i,a,s,o,r,_,c=n[6]&&Qe(n);return{c(){e=S("div"),t=S("div"),l=S("div"),i=S("div"),a=L(),s=S("div"),c&&c.c(),this.h()},l(m){e=I(m,"DIV",{class:!0,role:!0,"aria-modal":!0,tabindex:!0});var d=M(e);t=I(d,"DIV",{class:!0});var f=M(t);l=I(f,"DIV",{class:!0});var u=M(l);i=I(u,"DIV",{class:!0,role:!0}),M(i).forEach(p),a=R(u),s=I(u,"DIV",{class:!0,role:!0});var h=M(s);c&&c.l(h),h.forEach(p),u.forEach(p),f.forEach(p),d.forEach(p),this.h()},h(){v(i,"class","dialog_bg svelte-1u54ehg"),v(i,"role","none"),P(i,"ready",n[6]),v(s,"class","dialog_content svelte-1u54ehg"),v(s,"role","none"),v(l,"class","dialog_wrapper svelte-1u54ehg"),v(t,"class","dialog_layout svelte-1u54ehg"),v(e,"class","dialog svelte-1u54ehg"),v(e,"role","dialog"),v(e,"aria-modal",""),v(e,"tabindex","-1"),P(e,"ready",n[6]),P(e,"layout-page",n[0]==="page"),ce(e,"z-index",100+n[1])},m(m,d){N(m,e,d),T(e,t),T(t,l),T(l,i),T(l,a),T(l,s),c&&c.m(s,null),n[11](s),n[13](e),o=!0,r||(_=[H(i,"mousedown",n[7]),H(s,"mousedown",n[12])],r=!0)},p(m,d){(!o||d&64)&&P(i,"ready",m[6]),m[6]?c?(c.p(m,d),d&64&&x(c,1)):(c=Qe(m),c.c(),x(c,1),c.m(s,null)):c&&(de(),D(c,1,1,()=>{c=null}),ge()),(!o||d&64)&&P(e,"ready",m[6]),(!o||d&1)&&P(e,"layout-page",m[0]==="page"),d&2&&ce(e,"z-index",100+m[1])},i(m){o||(x(c),o=!0)},o(m){D(c),o=!1},d(m){m&&p(e),c&&c.d(),n[11](null),n[13](null),r=!1,Pe(_)}}}function vn(n){let e,t,l,i;return e=new fn({props:{to:n[3],$$slots:{default:[pn]},$$scope:{ctx:n}}}),e.$on("move",n[14]),{c(){W(e.$$.fragment)},l(a){Q(e.$$.fragment,a)},m(a,s){F(e,a,s),t=!0,l||(i=H(dn,"keydown",function(){Oe(n[2]?n[8]:void 0)&&(n[2]?n[8]:void 0).apply(this,arguments)}),l=!0)},p(a,[s]){n=a;const o={};s&8&&(o.to=n[3]),s&32883&&(o.$$scope={dirty:s,ctx:n}),e.$set(o)},i(a){t||(x(e.$$.fragment,a),t=!0)},o(a){D(e.$$.fragment,a),t=!1},d(a){J(e,a),l=!1,i()}}}const Ze="body",$e="dialog_open",et="--dialog_open_padding_right",tt="dialog";function bn(n,e,t){let{$$slots:l={},$$scope:i}=e;const a=xe();let{container:s=void 0}=e,{layout:o="centered"}=e,{index:r=0}=e,{active:_=!0}=e,c;const m=k=>{if(k)t(3,c=k);else{const z=document.getElementById(tt);if(z)t(3,c=z);else{const A=document.querySelector(Ze);if(!A)throw Error(`Cannot find dialog root element with selector '${Ze}'`);t(3,c=document.createElement("div")),t(3,c.id=tt,c),t(3,c.style.display="contents",c),A.appendChild(c)}}};let d,f;const u=k=>{k&&ie(k),a("close")},h=k=>{var z;if(k.key==="Escape"&&!Te(k.target)){const A=d.parentElement,V=(z=A==null?void 0:A.parentElement)==null?void 0:z.children,q=Array.prototype.indexOf.call(V,A);(!V||q===V.length-1||q===-1)&&u(k)}};let g=!1;Se(()=>{r===0&&(document.body.classList.remove($e),document.body.style.setProperty(et,null))});function O(k){Ie[k?"unshift":"push"](()=>{f=k,t(5,f)})}const w=k=>{k.target===f&&u(k)};function y(k){Ie[k?"unshift":"push"](()=>{d=k,t(4,d)})}const b=()=>{const k=Number(window.getComputedStyle(document.body).getPropertyValue("padding-right").slice(0,-2))||0,z=document.body.clientWidth;document.body.classList.add($e);const V=document.body.clientWidth-z;V>0&&document.body.style.setProperty(et,V+k+"px"),t(6,g=!0),d.focus()};return n.$$set=k=>{"container"in k&&t(9,s=k.container),"layout"in k&&t(0,o=k.layout),"index"in k&&t(1,r=k.index),"active"in k&&t(2,_=k.active),"$$scope"in k&&t(15,i=k.$$scope)},n.$$.update=()=>{n.$$.dirty&512&&m(s)},[o,r,_,c,d,f,g,u,h,s,l,O,w,y,b,i]}class kn extends X{constructor(e){super(),G(this,e,bn,vn,K,{container:9,layout:0,index:1,active:2})}}const yn=n=>Array.isArray(n)?n:[n];function wn(n){let e,t,l,i,a="🔗",s,o,r,_,c,m;return{c(){e=S("li"),t=S("a"),l=S("div"),i=S("div"),i.textContent=a,s=L(),o=S("div"),r=S("span"),_=se(n[1]),this.h()},l(d){e=I(d,"LI",{role:!0});var f=M(e);t=I(f,"A",{class:!0,role:!0,href:!0,rel:!0});var u=M(t);l=I(u,"DIV",{class:!0});var h=M(l);i=I(h,"DIV",{class:!0,"data-svelte-h":!0}),ve(i)!=="svelte-1a86zw2"&&(i.textContent=a),s=R(h),o=I(h,"DIV",{class:!0});var g=M(o);r=I(g,"SPAN",{class:!0});var O=M(r);_=oe(O,n[1]),O.forEach(p),g.forEach(p),h.forEach(p),u.forEach(p),f.forEach(p),this.h()},h(){v(i,"class","icon"),v(r,"class","text svelte-4vzsmg"),v(o,"class","title"),v(l,"class","content"),v(t,"class","menu_item plain svelte-4vzsmg"),v(t,"role","menuitem"),v(t,"href",n[0]),v(t,"rel",n[2]),v(e,"role","none")},m(d,f){N(d,e,f),T(e,t),T(t,l),T(l,i),T(l,s),T(l,o),T(o,r),T(r,_),c||(m=H(t,"click",n[5]),c=!0)},p(d,[f]){f&2&&Me(_,d[1]),f&1&&v(t,"href",d[0]),f&4&&v(t,"rel",d[2])},i:U,o:U,d(d){d&&p(e),c=!1,m()}}}function En(n,e,t){let l,i,a,{href:s}=e;const o=xt(),r=(c,m=location.host)=>{const d=Ae(Ae(c,"https://"),"http://");return d.startsWith(m+"/")?Ae(d,m):d},_=()=>o.close();return n.$$set=c=>{"href"in c&&t(0,s=c.href)},n.$$.update=()=>{n.$$.dirty&1&&t(1,l=r(s)),n.$$.dirty&2&&t(4,i=!(l[0]==="."||l[0]==="/"&&l[1]!=="/")),n.$$.dirty&16&&t(2,a=i?"noreferrer":void 0)},[s,l,a,o,i,_]}class Tn extends X{constructor(e){super(),G(this,e,En,wn,K,{href:0})}}const Cn=n=>({}),nt=n=>({index:2}),Sn=n=>({}),lt=n=>({index:1}),In=n=>({}),st=n=>({index:0});function On(n){let e;return{c(){e=se("•")},l(t){e=oe(t,"•")},m(t,l){N(t,e,l)},d(t){t&&p(e)}}}function Nn(n){let e;return{c(){e=se("•")},l(t){e=oe(t,"•")},m(t,l){N(t,e,l)},d(t){t&&p(e)}}}function xn(n){let e;return{c(){e=se("•")},l(t){e=oe(t,"•")},m(t,l){N(t,e,l)},d(t){t&&p(e)}}}function Mn(n){let e,t,l,i,a,s,o;const r=n[3].default,_=ee(r,n,n[2],st),c=_||On(),m=n[3].default,d=ee(m,n,n[2],lt),f=d||Nn(),u=n[3].default,h=ee(u,n,n[2],nt),g=h||xn();let O=[n[1],{class:"pending_animation"}],w={};for(let y=0;y<O.length;y+=1)w=wt(w,O[y]);return{c(){e=S("div"),t=S("span"),c&&c.c(),l=L(),i=S("span"),f&&f.c(),a=L(),s=S("span"),g&&g.c(),this.h()},l(y){e=I(y,"DIV",{class:!0});var b=M(e);t=I(b,"SPAN",{style:!0,class:!0});var k=M(t);c&&c.l(k),k.forEach(p),l=R(b),i=I(b,"SPAN",{style:!0,class:!0});var z=M(i);f&&f.l(z),z.forEach(p),a=R(b),s=I(b,"SPAN",{style:!0,class:!0});var A=M(s);g&&g.l(A),A.forEach(p),b.forEach(p),this.h()},h(){ce(t,"animation-delay","0s"),v(t,"class","svelte-1l85mor"),P(t,"running",n[0]),ce(i,"animation-delay","0.09s"),v(i,"class","svelte-1l85mor"),P(i,"running",n[0]),ce(s,"animation-delay","0.3s"),v(s,"class","svelte-1l85mor"),P(s,"running",n[0]),Be(e,w),P(e,"svelte-1l85mor",!0)},m(y,b){N(y,e,b),T(e,t),c&&c.m(t,null),T(e,l),T(e,i),f&&f.m(i,null),T(e,a),T(e,s),g&&g.m(s,null),o=!0},p(y,[b]){_&&_.p&&(!o||b&4)&&te(_,r,y,y[2],o?le(r,y[2],b,In):ne(y[2]),st),(!o||b&1)&&P(t,"running",y[0]),d&&d.p&&(!o||b&4)&&te(d,m,y,y[2],o?le(m,y[2],b,Sn):ne(y[2]),lt),(!o||b&1)&&P(i,"running",y[0]),h&&h.p&&(!o||b&4)&&te(h,u,y,y[2],o?le(u,y[2],b,Cn):ne(y[2]),nt),(!o||b&1)&&P(s,"running",y[0]),Be(e,w=Re(O,[b&2&&y[1],{class:"pending_animation"}])),P(e,"svelte-1l85mor",!0)},i(y){o||(x(c,y),x(f,y),x(g,y),o=!0)},o(y){D(c,y),D(f,y),D(g,y),o=!1},d(y){y&&p(e),c&&c.d(y),f&&f.d(y),g&&g.d(y)}}}function zn(n,e,t){let{$$slots:l={},$$scope:i}=e,{running:a=!0}=e,{attrs:s=void 0}=e;return n.$$set=o=>{"running"in o&&t(0,a=o.running),"attrs"in o&&t(1,s=o.attrs),"$$scope"in o&&t(2,i=o.$$scope)},[a,s,i,l]}class Dn extends X{constructor(e){super(),G(this,e,zn,Mn,K,{running:0,attrs:1})}}const An=n=>({}),ot=n=>({});function Ln(n){let e;return{c(){e=se("⚠️")},l(t){e=oe(t,"⚠️")},m(t,l){N(t,e,l)},i:U,o:U,d(t){t&&p(e)}}}function Rn(n){let e,t;return e=new Dn({}),{c(){W(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,i){F(e,l,i),t=!0},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Vn(n){let e,t,l,i,a,s,o,r,_,c,m,d;const f=n[11].icon,u=ee(f,n,n[10],ot),h=n[11].default,g=ee(h,n,n[10],null),O=[Rn,Ln],w=[];function y(b,k){return b[1]?0:b[0]?1:-1}return~(o=y(n))&&(r=w[o]=O[o](n)),{c(){e=S("li"),t=S("div"),l=S("div"),u&&u.c(),i=L(),a=S("div"),g&&g.c(),s=L(),r&&r.c(),this.h()},l(b){e=I(b,"LI",{class:!0,role:!0,"aria-label":!0,tabindex:!0,title:!0});var k=M(e);t=I(k,"DIV",{class:!0});var z=M(t);l=I(z,"DIV",{class:!0});var A=M(l);u&&u.l(A),A.forEach(p),i=R(z),a=I(z,"DIV",{class:!0});var V=M(a);g&&g.l(V),V.forEach(p),s=R(z),r&&r.l(z),z.forEach(p),k.forEach(p),this.h()},h(){v(l,"class","icon"),v(a,"class","title"),v(t,"class","content"),v(e,"class","menu_item plain selectable deselectable svelte-10kraez"),v(e,"role","menuitem"),v(e,"aria-label","contextmenu entry"),v(e,"tabindex","-1"),v(e,"title",_=n[0]?`Error: ${n[0]}`:void 0),P(e,"selected",n[2])},m(b,k){N(b,e,k),T(e,t),T(t,l),u&&u.m(l,null),T(t,i),T(t,a),g&&g.m(a,null),T(t,s),~o&&w[o].m(t,null),c=!0,m||(d=[H(e,"click",n[5]),H(e,"mouseenter",n[6])],m=!0)},p(b,[k]){u&&u.p&&(!c||k&1024)&&te(u,f,b,b[10],c?le(f,b[10],k,An):ne(b[10]),ot),g&&g.p&&(!c||k&1024)&&te(g,h,b,b[10],c?le(h,b[10],k,null):ne(b[10]),null);let z=o;o=y(b),o!==z&&(r&&(de(),D(w[z],1,1,()=>{w[z]=null}),ge()),~o?(r=w[o],r||(r=w[o]=O[o](b),r.c()),x(r,1),r.m(t,null)):r=null),(!c||k&1&&_!==(_=b[0]?`Error: ${b[0]}`:void 0))&&v(e,"title",_),(!c||k&4)&&P(e,"selected",b[2])},i(b){c||(x(u,b),x(g,b),x(r),c=!0)},o(b){D(u,b),D(g,b),D(r),c=!1},d(b){b&&p(e),u&&u.d(b),g&&g.d(b),~o&&w[o].d(),m=!1,Pe(d)}}}function Pn(n,e,t){let l,i,a,s,o,{$$slots:r={},$$scope:_}=e,{run:c}=e;const m=ue(c);Le(n,m,g=>t(9,o=g));const d=xt();Le(n,d,g=>t(8,s=g));const f=d.add_entry(m),u=g=>{setTimeout(()=>d.activate(f))},h=g=>{g.stopImmediatePropagation(),d.select(f)};return n.$$set=g=>{"run"in g&&t(7,c=g.run),"$$scope"in g&&t(10,_=g.$$scope)},n.$$.update=()=>{n.$$.dirty&640&&o!==c&&be(m,o=c,o),n.$$.dirty&256&&t(2,{selected:l,pending:i,error_message:a}=s&&f,l,(t(1,i),t(8,s)),(t(0,a),t(8,s)))},[a,i,l,m,d,u,h,c,s,o,_,r]}class Un extends X{constructor(e){super(),G(this,e,Pn,Vn,K,{run:7})}}function Hn(n){let e;return{c(){e=se(n[0])},l(t){e=oe(t,n[0])},m(t,l){N(t,e,l)},p(t,l){l&1&&Me(e,t[0])},d(t){t&&p(e)}}}function jn(n){let e;return{c(){e=se(n[1])},l(t){e=oe(t,n[1])},m(t,l){N(t,e,l)},p(t,l){l&2&&Me(e,t[1])},d(t){t&&p(e)}}}function Yn(n){let e,t;return e=new Un({props:{run:n[2],$$slots:{icon:[jn],default:[Hn]},$$scope:{ctx:n}}}),{c(){W(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,i){F(e,l,i),t=!0},p(l,[i]){const a={};i&4&&(a.run=l[2]),i&11&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function Bn(n,e,t){let{content:l}=e,{icon:i}=e,{run:a}=e;return n.$$set=s=>{"content"in s&&t(0,l=s.content),"icon"in s&&t(1,i=s.icon),"run"in s&&t(2,a=s.run)},[l,i,a]}class Kn extends X{constructor(e){super(),G(this,e,Bn,Yn,K,{content:0,icon:1,run:2})}}const Xn=n=>{const e=(n==null?void 0:n.link_component)??Tn,t=(n==null?void 0:n.text_component)??Kn,l=n==null?void 0:n.layout,i=l||ue({width:0,height:0}),a={is_menu:!0,menu:null,depth:1,items:[]},s=[],{update:o,set:r,..._}=ue({open:!1,params:[],x:0,y:0}),c=()=>o(u=>({...u})),m=u=>{for(const h of u)h.is_menu?m(h.items):(h.promise!==null&&(h.promise=null),h.error_message!==null&&(h.error_message=null))},d=ue(void 0),f={..._,root_menu:a,selections:s,layout:i,initial_layout:l,link_component:e,text_component:t,action:Wn(t),error:d,open:(u,h,g)=>{s.length=0,o(O=>({...O,open:!0,params:u,x:h,y:g}))},close:()=>o(u=>u.open?(m(a.items),{...u,open:!1}):u),activate:u=>{if(u.is_menu)f.expand_selected();else{let h;try{h=jt(u.run)()}catch(g){const O=typeof(g==null?void 0:g.message)=="string"?g.message:void 0;u.error_message=O??"unknown error",d.set(O)}if(h!=null&&h.then){u.pending=!0,u.error_message=null;const g=u.promise=h.then(O=>{if(g===u.promise){if(typeof(O==null?void 0:O.ok)=="boolean")if(O.ok)f.close();else{const w=typeof O.message=="string"?O.message:void 0;u.error_message=w??"unknown error",d.set(w)}else f.close();return O}},O=>{if(g!==u.promise)return;const w=typeof(O==null?void 0:O.message)=="string"?O.message:void 0;u.error_message=w??"unknown error",d.set(w)}).finally(()=>{g===u.promise&&(u.pending=!1,u.promise=null,c())});return c(),u.promise}f.close()}return!0},activate_selected:()=>{const u=s[s.length-1];return u?f.activate(u):f.select_first()},select:u=>{if(s[s.length-1]===u)return;for(const g of s)g.selected=!1;s.length=0;let h=u;do h.selected=!0,s.unshift(h);while((h=h.menu)&&h.menu);c()},collapse_selected:()=>{if(s.length<=1)return;const u=s.pop();u.selected=!1,c()},expand_selected:()=>{const u=s[s.length-1];if(!(u!=null&&u.is_menu))return;const h=u.items[0];h.selected=!0,s.push(h),c()},select_next:()=>{if(!s.length)return f.select_first();const u=s[s.length-1],h=u.menu.items.indexOf(u);f.select(u.menu.items[h===u.menu.items.length-1?0:h+1])},select_previous:()=>{if(!s.length)return f.select_last();const u=s[s.length-1],h=u.menu.items.indexOf(u);f.select(u.menu.items[h===0?u.menu.items.length-1:h-1])},select_first:()=>{var u;return f.select((((u=s[s.length-1])==null?void 0:u.menu)||a).items[0])},select_last:()=>{var h;const{items:u}=((h=s[s.length-1])==null?void 0:h.menu)||a;return f.select(u[u.length-1])},add_entry:u=>{const h=at()||a,g={is_menu:!1,menu:h,selected:!1,run:u,pending:!1,error_message:null,promise:null};return h.items.push(g),Se(()=>{h.items.length=0}),g},add_submenu:()=>{const u=at()||a,h={is_menu:!0,menu:u,depth:u.depth+1,selected:!1,items:[]};return u.items.push(h),Zn(h),Se(()=>{u.items.length=0}),h}};return f},Ye="contextmenu",Gn=`a,[data-${Ye}]`,Ce=new Map;let qn=0;const Wn=n=>(e,t)=>{const l=qn+++"";return e.dataset[Ye]=l,Ce.set(l,it(t,n)),{update:i=>{Ce.set(l,it(i,n))},destroy:()=>{Ce.delete(l)}}},it=(n,e)=>yn(n).filter(Boolean).map(t=>"component"in t&&"props"in t?t:{component:e,props:t}),Fn=17,rt=(n,e,t,l)=>{var a;const i=Jn(n,l);return i!=null&&i.length?(l.open(i,e,t),(a=navigator.vibrate)==null||a.call(navigator,Fn),!0):!1},Jn=(n,e)=>{var r;const{link_component:t,text_component:l}=e;let i=null,a=n,s,o;for(;a=a==null?void 0:a.closest(Gn);){if(s=a.dataset[Ye]){if(i||(i=[]),o=Ce.get(s),o===void 0)continue;for(const _ of o){const{props:c}=_;i!=null&&i.some(m=>m.component===_.component&&tl(m.props,c))||(i||(i=[])).push(_)}}t&&a.tagName==="A"&&(i||(i=[])).push({component:t,props:{href:a.href}}),a=a.parentElement}if(i){const _=(r=window.getSelection())==null?void 0:r.toString();_&&i.unshift({component:l,props:{content:"Copy text",icon:"📋",run:()=>void navigator.clipboard.writeText(_)}})}return i},Nt=Symbol(),Qn=n=>ke(Nt,n),xt=()=>Ne(Nt),Mt=Symbol(),Zn=n=>ke(Mt,n),at=()=>Ne(Mt),$n=Symbol(),el=()=>{const n=ue({width:0,height:0});return ke($n,n),n},tl=(n,e)=>{if(!n||!e)return n===e;let t=0;for(const l in n){if(n[l]!==e[l])return!1;t++}return t===Object.keys(e).length};const{Map:nl}=Et;function _t(n,e,t){const l=n.slice();return l[39]=e[t],l}function ct(n){let e,t;return{c(){e=S("div"),this.h()},l(l){e=I(l,"DIV",{class:!0}),M(e).forEach(p),this.h()},h(){v(e,"class","contextmenu_layout svelte-4twoek"),Yt(()=>n[29].call(e))},m(l,i){N(l,e,i),t=Bt(e,n[29].bind(e))},p:U,d(l){l&&p(e),t()}}}function ut(n){let e,t=[],l=new nl,i=`translate3d(${n[9]}px, ${n[8]}px, 0)`,a,s=fe(n[6].params);const o=r=>r[39];for(let r=0;r<s.length;r+=1){let _=_t(n,s,r),c=o(_);l.set(c,t[r]=ht(c,_))}return{c(){e=S("menu");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=I(r,"MENU",{class:!0,role:!0,tabindex:!0});var _=M(e);for(let c=0;c<t.length;c+=1)t[c].l(_);_.forEach(p),this.h()},h(){v(e,"class","contextmenu pane svelte-4twoek"),v(e,"role","dialog"),v(e,"tabindex","-1"),ce(e,"transform",i)},m(r,_){N(r,e,_);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);n[30](e),a=!0},p(r,_){_[0]&64&&(s=fe(r[6].params),de(),t=Ue(t,_,o,1,r,s,l,e,Xt,ht,null,_t),ge()),_[0]&768&&i!==(i=`translate3d(${r[9]}px, ${r[8]}px, 0)`)&&ce(e,"transform",i)},i(r){if(!a){for(let _=0;_<s.length;_+=1)x(t[_]);a=!0}},o(r){for(let _=0;_<t.length;_+=1)D(t[_]);a=!1},d(r){r&&p(e);for(let _=0;_<t.length;_+=1)t[_].d();n[30](null)}}}function ht(n,e){let t,l,i,a;const s=[e[39].props];var o=e[39].component;function r(_,c){let m={};if(c!==void 0&&c[0]&64)m=Re(s,[Xe(_[39].props)]);else for(let d=0;d<s.length;d+=1)m=wt(m,s[d]);return{props:m}}return o&&(l=Ke(o,r(e))),{key:n,first:null,c(){t=B(),l&&W(l.$$.fragment),i=B(),this.h()},l(_){t=B(),l&&Q(l.$$.fragment,_),i=B(),this.h()},h(){this.first=t},m(_,c){N(_,t,c),l&&F(l,_,c),N(_,i,c),a=!0},p(_,c){if(e=_,c[0]&64&&o!==(o=e[39].component)){if(l){de();const m=l;D(m.$$.fragment,1,0,()=>{J(m,1)}),ge()}o?(l=Ke(o,r(e,c)),W(l.$$.fragment),x(l.$$.fragment,1),F(l,i.parentNode,i)):l=null}else if(o){const m=c[0]&64?Re(s,[Xe(e[39].props)]):{};l.$set(m)}},i(_){a||(l&&x(l.$$.fragment,_),a=!0)},o(_){l&&D(l.$$.fragment,_),a=!1},d(_){_&&(p(t),p(i)),l&&J(l,_)}}}function ll(n){let e,t,l,i,a,s=!n[4]&&ct(n),o=n[7]&&ut(n);return{c(){s&&s.c(),e=L(),o&&o.c(),t=B()},l(r){s&&s.l(r),e=R(r),o&&o.l(r),t=B()},m(r,_){s&&s.m(r,_),N(r,e,_),o&&o.m(r,_),N(r,t,_),l=!0,i||(a=[H(window,"contextmenu",n[11],{passive:!1,capture:!0}),H(window,"touchstart",n[12],{passive:!0,capture:!0}),H(window,"touchmove",n[13],{passive:!0,capture:!0}),H(window,"touchend",n[14],{passive:!1,capture:!0}),H(window,"touchcancel",n[14],{passive:!1,capture:!0}),H(window,"mousedown",function(){Oe(n[7]?n[15]:void 0)&&(n[7]?n[15]:void 0).apply(this,arguments)},{passive:!0,capture:!0}),H(window,"keydown",function(){Oe(n[7]?n[16]:void 0)&&(n[7]?n[16]:void 0).apply(this,arguments)},{passive:!1,capture:!0})],i=!0)},p(r,_){n=r,n[4]?s&&(s.d(1),s=null):s?s.p(n,_):(s=ct(n),s.c(),s.m(e.parentNode,e)),n[7]?o?(o.p(n,_),_[0]&128&&x(o,1)):(o=ut(n),o.c(),x(o,1),o.m(t.parentNode,t)):o&&(de(),D(o,1,1,()=>{o=null}),ge())},i(r){l||(x(o),l=!0)},o(r){D(o),l=!1},d(r){r&&(p(e),p(t)),s&&s.d(r),o&&o.d(r),i=!1,Pe(a)}}}function sl(n,e,t){let l,i,a,s,o,r,_,c,m,d,f=U,u=()=>(f(),f=me(l,E=>t(28,d=E)),l),h,g=U,O=()=>(g(),g=me(w,E=>t(6,h=E)),w);n.$$.on_destroy.push(()=>f()),n.$$.on_destroy.push(()=>g());let{contextmenu:w}=e;O(),Qn(w);let{longpress_move_tolerance:y=21}=e,{longpress_duration:b=633}=e,{bypass_with_tap_then_longpress:k=!0}=e,{tap_then_longpress_duration:z=660}=e,{tap_then_longpress_move_tolerance:A=7}=e,{open_offset_x:V=-2}=e,{open_offset_y:q=-2}=e,j,Z,$;const re=el();Le(n,re,E=>t(27,m=E));let C,ye,we,ae,_e,ze;const pe=()=>{_e&&(_e=!1),ae!=null&&(clearTimeout(ae),ae=null)},zt=E=>{if(ze){ze=!1;return}if(_e){pe(),ie(E);return}const{target:Y}=E;E.shiftKey||!(Y instanceof HTMLElement||Y instanceof SVGElement)||j!=null&&j.contains(Y)||Te(Y)||rt(Y,E.clientX+V,E.clientY+q,w)&&(ie(E),pe())},Dt=E=>{_e&&(_e=!1);const{touches:Y,target:he}=E;if(s||Y.length!==1||E.shiftKey||!(he instanceof HTMLElement||he instanceof SVGElement)||Te(he))return;const{clientX:Ee,clientY:De}=Y[0];if(k){if(we!=null&&performance.now()-we<z&&Math.hypot(Ee-C,De-ye)<A){ze=!0,we=null;return}we=performance.now()}C=Ee,ye=De,ae!=null&&pe(),ae=setTimeout(()=>{_e=!0,rt(he,C+V,ye+q,w)},b)},At=E=>{if(ae==null)return;const{touches:Y}=E;if(Y.length!==1)return;const{clientX:he,clientY:Ee}=Y[0];Math.hypot(he-C,Ee-ye)>y&&(s&&w.close(),pe())},Lt=E=>{ae!=null&&(_e&&ie(E),pe())},Rt=E=>{j&&!j.contains(E.target)&&w.close()},Vt=new Map([["Escape",w.close],["ArrowLeft",w.collapse_selected],["ArrowRight",w.expand_selected],["ArrowDown",w.select_next],["PageDown",w.select_next],["ArrowUp",w.select_previous],["PageUp",w.select_previous],["Home",w.select_first],["End",w.select_last],[" ",w.activate_selected],["Enter",w.activate_selected]]),Pt=E=>{const Y=Vt.get(E.key);!Y||Te(E.target)||(ie(E),Y())};function Ut(){$=this.clientHeight,Z=this.clientWidth,t(3,$),t(2,Z)}function Ht(E){Ie[E?"unshift":"push"](()=>{j=E,t(1,j)})}return n.$$set=E=>{"contextmenu"in E&&O(t(0,w=E.contextmenu)),"longpress_move_tolerance"in E&&t(17,y=E.longpress_move_tolerance),"longpress_duration"in E&&t(18,b=E.longpress_duration),"bypass_with_tap_then_longpress"in E&&t(19,k=E.bypass_with_tap_then_longpress),"tap_then_longpress_duration"in E&&t(20,z=E.tap_then_longpress_duration),"tap_then_longpress_move_tolerance"in E&&t(21,A=E.tap_then_longpress_move_tolerance),"open_offset_x"in E&&t(22,V=E.open_offset_x),"open_offset_y"in E&&t(23,q=E.open_offset_y)},n.$$.update=()=>{if(n.$$.dirty[0]&1&&u(t(5,{layout:l,initial_layout:i}=w,l,(t(26,i),t(0,w)))),n.$$.dirty[0]&67108896&&t(4,a=l===i),n.$$.dirty[0]&28&&!a&&Z!==void 0&&$!==void 0&&be(l,d={width:Z,height:$},d),n.$$.dirty[0]&64&&t(7,{open:s,x:o,y:r}=h,s,(t(25,o),t(6,h)),(t(24,r),t(6,h))),n.$$.dirty[0]&2&&j){const E=j.getBoundingClientRect();be(re,m={width:E.width,height:E.height},m)}n.$$.dirty[0]&436207616&&t(9,_=o+Math.min(0,d.width-(o+m.width))),n.$$.dirty[0]&419430400&&t(8,c=r+Math.min(0,d.height-(r+m.height)))},[w,j,Z,$,a,l,h,s,c,_,re,zt,Dt,At,Lt,Rt,Pt,y,b,k,z,A,V,q,r,o,i,m,d,Ut,Ht]}class ol extends X{constructor(e){super(),G(this,e,sl,ll,K,{contextmenu:0,longpress_move_tolerance:17,longpress_duration:18,bypass_with_tap_then_longpress:19,tap_then_longpress_duration:20,tap_then_longpress_move_tolerance:21,open_offset_x:22,open_offset_y:23},null,[-1,-1])}}function mt(n,e,t){const l=n.slice();l[5]=e[t];const i=l[5]===l[2];return l[6]=i,l}function ft(n,e){let t,l,i,a,s,o,r,_;function c(...m){return e[4](e[5],...m)}return{key:n,first:null,c(){t=S("button"),l=S("div"),i=se(e[5]),a=L(),this.h()},l(m){t=I(m,"BUTTON",{class:!0,type:!0,role:!0,title:!0,"aria-checked":!0});var d=M(t);l=I(d,"DIV",{class:!0});var f=M(l);i=oe(f,e[5]),f.forEach(p),a=R(d),d.forEach(p),this.h()},h(){v(l,"class","content svelte-j8fh3c"),v(t,"class","color_scheme svelte-j8fh3c"),v(t,"type","button"),v(t,"role","menuitemradio"),v(t,"title",s=e[6]?`${e[5]} color scheme is selected`:`select ${e[5]} color scheme`),v(t,"aria-checked",o=e[6]),P(t,"selected",e[6]),this.first=t},m(m,d){N(m,t,d),T(t,l),T(l,i),T(t,a),r||(_=H(t,"click",c),r=!0)},p(m,d){e=m,d&4&&s!==(s=e[6]?`${e[5]} color scheme is selected`:`select ${e[5]} color scheme`)&&v(t,"title",s),d&4&&o!==(o=e[6])&&v(t,"aria-checked",o),d&4&&P(t,"selected",e[6])},d(m){m&&p(t),r=!1,_()}}}function il(n){let e,t=[],l=new Map,i=fe(Ve);const a=s=>s[5];for(let s=0;s<i.length;s+=1){let o=mt(n,i,s),r=a(o);l.set(r,t[s]=ft(r,o))}return{c(){e=S("menu");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=I(s,"MENU",{class:!0});var o=M(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(p),this.h()},h(){v(e,"class","color_scheme_control svelte-j8fh3c")},m(s,o){N(s,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,[o]){o&14&&(i=fe(Ve),t=Ue(t,o,a,1,s,i,l,e,Tt,ft,null,mt))},i:U,o:U,d(s){s&&p(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function rl(n,e,t){let l,i=U,a=()=>(i(),i=me(o,c=>t(2,l=c)),o);n.$$.on_destroy.push(()=>i());const s=xe();let{selected_color_scheme:o=on()}=e;a();let{select:r=c=>{be(o,l=c,l)}}=e;const _=(c,m)=>{ie(m),(r==null?void 0:r(c))!==!1&&s("select",c)};return n.$$set=c=>{"selected_color_scheme"in c&&a(t(0,o=c.selected_color_scheme)),"select"in c&&t(1,r=c.select)},[o,r,l,s,_]}class al extends X{constructor(e){super(),G(this,e,rl,il,K,{selected_color_scheme:0,select:1})}}function dt(n,e,t){const l=n.slice();l[9]=e[t];const i=l[9].name===l[4];return l[10]=i,l}function gt(n){let e,t="•••",l,i;function a(...s){return n[8](n[9],...s)}return{c(){e=S("button"),e.textContent=t,this.h()},l(s){e=I(s,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ve(e)!=="svelte-1br9t0k"&&(e.textContent=t),this.h()},h(){v(e,"type","button"),v(e,"class","icon_button plain svelte-182h20e")},m(s,o){N(s,e,o),l||(i=H(e,"click",a),l=!0)},p(s,o){n=s},d(s){s&&p(e),l=!1,i()}}}function pt(n,e){let t,l,i=e[9].name+"",a,s,o,r,_,c,m;function d(...u){return e[7](e[9],...u)}let f=e[2]&&gt(e);return{key:n,first:null,c(){t=S("li"),l=S("button"),a=se(i),r=L(),f&&f.c(),_=L(),this.h()},l(u){t=I(u,"LI",{role:!0,class:!0});var h=M(t);l=I(h,"BUTTON",{type:!0,class:!0,role:!0,"aria-label":!0,"aria-checked":!0});var g=M(l);a=oe(g,i),g.forEach(p),r=R(h),f&&f.l(h),_=R(h),h.forEach(p),this.h()},h(){v(l,"type","button"),v(l,"class","theme_button svelte-182h20e"),v(l,"role","menuitemradio"),v(l,"aria-label",s=e[9].name+" theme"),v(l,"aria-checked",o=e[10]),P(l,"selected",e[10]),v(t,"role","none"),v(t,"class","svelte-182h20e"),this.first=t},m(u,h){N(u,t,h),T(t,l),T(l,a),T(t,r),f&&f.m(t,null),T(t,_),c||(m=H(l,"click",d),c=!0)},p(u,h){e=u,h&2&&i!==(i=e[9].name+"")&&Me(a,i),h&2&&s!==(s=e[9].name+" theme")&&v(l,"aria-label",s),h&18&&o!==(o=e[10])&&v(l,"aria-checked",o),h&18&&P(l,"selected",e[10]),e[2]?f?f.p(e,h):(f=gt(e),f.c(),f.m(t,_)):f&&(f.d(1),f=null)},d(u){u&&p(t),f&&f.d(),c=!1,m()}}}function _l(n){let e,t=[],l=new Map,i=fe(n[1]);const a=s=>s[9].name;for(let s=0;s<i.length;s+=1){let o=dt(n,i,s),r=a(o);l.set(r,t[s]=pt(r,o))}return{c(){e=S("menu");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=I(s,"MENU",{class:!0});var o=M(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(p),this.h()},h(){v(e,"class","theme_input svelte-182h20e")},m(s,o){N(s,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(s,[o]){o&62&&(i=fe(s[1]),t=Ue(t,o,a,1,s,i,l,e,Tt,pt,null,dt))},i:U,o:U,d(s){s&&p(e);for(let o=0;o<t.length;o+=1)t[o].d()}}}function cl(n,e,t){let l,i,a=U,s=()=>(a(),a=me(r,u=>t(6,i=u)),r);n.$$.on_destroy.push(()=>a());const o=xe();let{selected_theme:r=ln()}=e;s();let{themes:_=He}=e,{enable_editing:c=!1}=e,{select:m=u=>{be(r,i=u,i)}}=e;const d=(u,h)=>{ie(h),(m==null?void 0:m(u))!==!1&&o("select",u)},f=(u,h)=>{ie(h),o("edit",u)};return n.$$set=u=>{"selected_theme"in u&&s(t(0,r=u.selected_theme)),"themes"in u&&t(1,_=u.themes),"enable_editing"in u&&t(2,c=u.enable_editing),"select"in u&&t(3,m=u.select)},n.$$.update=()=>{n.$$.dirty&64&&t(4,l=i==null?void 0:i.name)},[r,_,c,m,l,o,i,d,f]}class ul extends X{constructor(e){super(),G(this,e,cl,_l,K,{selected_theme:0,themes:1,enable_editing:2,select:3})}}function hl(n){let e,t,l="Settings",i,a,s="Color Scheme",o,r,_,c,m="Theme",d,f,u;return r=new al({}),f=new ul({}),{c(){e=S("div"),t=S("h1"),t.textContent=l,i=L(),a=S("h2"),a.textContent=s,o=L(),W(r.$$.fragment),_=L(),c=S("h2"),c.textContent=m,d=L(),W(f.$$.fragment),this.h()},l(h){e=I(h,"DIV",{class:!0});var g=M(e);t=I(g,"H1",{"data-svelte-h":!0}),ve(t)!=="svelte-171lafx"&&(t.textContent=l),i=R(g),a=I(g,"H2",{"data-svelte-h":!0}),ve(a)!=="svelte-1dorln8"&&(a.textContent=s),o=R(g),Q(r.$$.fragment,g),_=R(g),c=I(g,"H2",{"data-svelte-h":!0}),ve(c)!=="svelte-1f06jx9"&&(c.textContent=m),d=R(g),Q(f.$$.fragment,g),g.forEach(p),this.h()},h(){v(e,"class","prose padded_xl box")},m(h,g){N(h,e,g),T(e,t),T(e,i),T(e,a),T(e,o),F(r,e,null),T(e,_),T(e,c),T(e,d),F(f,e,null),u=!0},p:U,i(h){u||(x(r.$$.fragment,h),x(f.$$.fragment,h),u=!0)},o(h){D(r.$$.fragment,h),D(f.$$.fragment,h),u=!1},d(h){h&&p(e),J(r),J(f)}}}class ml extends X{constructor(e){super(),G(this,e,null,hl,K,{})}}function vt(n){let e,t;return e=new kn({props:{$$slots:{default:[fl]},$$scope:{ctx:n}}}),e.$on("close",n[5]),{c(){W(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,i){F(e,l,i),t=!0},p(l,i){const a={};i&64&&(a.$$scope={dirty:i,ctx:l}),e.$set(a)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){J(e,l)}}}function fl(n){let e,t,l;return t=new ml({}),{c(){e=S("div"),W(t.$$.fragment),this.h()},l(i){e=I(i,"DIV",{class:!0});var a=M(e);Q(t.$$.fragment,a),a.forEach(p),this.h()},h(){v(e,"class","pane")},m(i,a){N(i,e,a),F(t,e,null),l=!0},p:U,i(i){l||(x(t.$$.fragment,i),l=!0)},o(i){D(t.$$.fragment,i),l=!1},d(i){i&&p(e),J(t)}}}function dl(n){let e,t,l,i,a;const s=n[2].default,o=ee(s,n,n[6],null);t=new ol({props:{contextmenu:n[1]}});let r=n[0]&&vt(n);return{c(){o&&o.c(),e=L(),W(t.$$.fragment),l=L(),r&&r.c(),i=B()},l(_){o&&o.l(_),e=R(_),Q(t.$$.fragment,_),l=R(_),r&&r.l(_),i=B()},m(_,c){o&&o.m(_,c),N(_,e,c),F(t,_,c),N(_,l,c),r&&r.m(_,c),N(_,i,c),a=!0},p(_,c){o&&o.p&&(!a||c&64)&&te(o,s,_,_[6],a?le(s,_[6],c,null):ne(_[6]),null),_[0]?r?(r.p(_,c),c&1&&x(r,1)):(r=vt(_),r.c(),x(r,1),r.m(i.parentNode,i)):r&&(de(),D(r,1,1,()=>{r=null}),ge())},i(_){a||(x(o,_),x(t.$$.fragment,_),x(r),a=!0)},o(_){D(o,_),D(t.$$.fragment,_),D(r),a=!1},d(_){_&&(p(e),p(l),p(i)),o&&o.d(_),J(t,_),r&&r.d(_)}}}function gl(n){let e,t,l,i,a,s,o;return i=new un({props:{$$slots:{default:[dl]},$$scope:{ctx:n}}}),{c(){e=L(),l=L(),W(i.$$.fragment),this.h()},l(r){bt("svelte-oinzzi",document.head).forEach(p),e=R(r),l=R(r),Q(i.$$.fragment,r),this.h()},h(){document.title="@feltjs/felt-mural"},m(r,_){N(r,e,_),N(r,l,_),F(i,r,_),a=!0,s||(o=Kt(t=n[1].action(document.body,[{content:"Settings",icon:"?",run:n[3]},{content:"Reload",icon:"⟳",run:n[4]}])),s=!0)},p(r,[_]){t&&Oe(t.update)&&_&1&&t.update.call(null,[{content:"Settings",icon:"?",run:r[3]},{content:"Reload",icon:"⟳",run:r[4]}]);const c={};_&65&&(c.$$scope={dirty:_,ctx:r}),i.$set(c)},i(r){a||(x(i.$$.fragment,r),a=!0)},o(r){D(i.$$.fragment,r),a=!1},d(r){r&&(p(e),p(l)),J(i,r),s=!1,o()}}}function pl(n,e,t){let{$$slots:l={},$$scope:i}=e;const a=Xn();let s=!1;const o=()=>{t(0,s=!0)},r=()=>{location.reload()},_=()=>t(0,s=!1);return n.$$set=c=>{"$$scope"in c&&t(6,i=c.$$scope)},[s,a,l,o,r,_,i]}class Ol extends X{constructor(e){super(),G(this,e,pl,gl,K,{})}}export{Ol as component,Il as universal};
