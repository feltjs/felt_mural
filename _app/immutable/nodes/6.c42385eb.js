import{n as Ze,e as b,s as P,t as _e,c as y,a as B,d as L,f as S,b as oe,m as Ne,o as n,y as ge,i as ne,g as u,I as X,h as We,j as Re,r as lt,a8 as gt,J as Xe,aa as Qe,A as He,ad as Lt,G as ve,E as Ge,ae as be,ab as nt,K as vt,L as bt,af as Fe,ag as st}from"../chunks/scheduler.a4956b2f.js";import{S as xe,i as $e,g as yt,e as kt,a as ke,t as we,c as Me,b as Ce,m as je,d as Ae,h as ye}from"../chunks/index.23824295.js";import{S as Tt,T as It,r as pe,C as Nt}from"../chunks/Scaled.1adaf927.js";import{a as Mt}from"../chunks/tome.cd90b044.js";import{g as Ct}from"../chunks/globals.7f7f1b26.js";import{e as Ye,u as it,o as wt,d as jt}from"../chunks/each.cd1e893b.js";import{w as at}from"../chunks/index.c6fd790a.js";import{D as ze,a as At,b as Ut,t as tt,S as Dt,u as Pt,p as ut,c as St,d as Bt,M as Ot,e as rt}from"../chunks/Mural_Item.0ab6484b.js";function Vt(l){let e;return{c(){e=_e("ðŸ‘")},l(t){e=oe(t,"ðŸ‘")},m(t,s){ne(t,e,s)},d(t){t&&L(e)}}}function Ft(l){let e;return{c(){e=_e("â€¢")},l(t){e=oe(t,"â€¢")},m(t,s){ne(t,e,s)},d(t){t&&L(e)}}}function _t(l){let e;return{c(){e=_e(`no
				`)},l(t){e=oe(t,`no
				`)},m(t,s){ne(t,e,s)},d(t){t&&L(e)}}}function zt(l){let e,t=tt(l[6]).length+"",s,_,a,r,o,c="points";return{c(){e=b("span"),s=_e(t),_=P(),a=b("br"),r=P(),o=b("small"),o.textContent=c,this.h()},l(f){e=y(f,"SPAN",{class:!0});var h=B(e);s=oe(h,t),_=S(h),a=y(h,"BR",{}),r=S(h),o=y(h,"SMALL",{"data-svelte-h":!0}),Ne(o)!=="svelte-les35l"&&(o.textContent=c),h.forEach(L),this.h()},h(){n(e,"class","content svelte-ge28fj")},m(f,h){ne(f,e,h),u(e,s),u(e,_),u(e,a),u(e,r),u(e,o)},p(f,h){h&64&&t!==(t=tt(f[6]).length+"")&&We(s,t)},d(f){f&&L(e)}}}function Rt(l){let e,t,s="x",_,a,r,o,c,f,h,g,d,m,C="y",O,E,z,R,T,N,V,Q,A,q,k="radius",w,M,G,Y,W,D,J,ee,x;return{c(){e=b("label"),t=b("small"),t.textContent=s,_=P(),a=b("input"),o=P(),c=b("input"),g=P(),d=b("label"),m=b("small"),m.textContent=C,O=P(),E=b("input"),R=P(),T=b("input"),Q=P(),A=b("label"),q=b("small"),q.textContent=k,w=P(),M=b("input"),Y=P(),W=b("input"),this.h()},l(I){e=y(I,"LABEL",{title:!0,class:!0});var U=B(e);t=y(U,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(t)!=="svelte-9crtu1"&&(t.textContent=s),_=S(U),a=y(U,"INPUT",{class:!0,type:!0,min:!0,max:!0}),o=S(U),c=y(U,"INPUT",{class:!0,type:!0}),U.forEach(L),g=S(I),d=y(I,"LABEL",{title:!0,class:!0});var v=B(d);m=y(v,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(m)!=="svelte-1aa9kl6"&&(m.textContent=C),O=S(v),E=y(v,"INPUT",{class:!0,type:!0,min:!0,max:!0}),R=S(v),T=y(v,"INPUT",{class:!0,type:!0}),v.forEach(L),Q=S(I),A=y(I,"LABEL",{title:!0,class:!0});var Z=B(A);q=y(Z,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(q)!=="svelte-182540t"&&(q.textContent=k),w=S(Z),M=y(Z,"INPUT",{class:!0,type:!0,min:!0,max:!0}),Y=S(Z),W=y(Z,"INPUT",{class:!0,type:!0}),Z.forEach(L),this.h()},h(){n(t,"class","title"),n(a,"class","item_input svelte-ge28fj"),n(a,"type","range"),a.value=r=l[6].cx,n(a,"min",0),n(a,"max",l[2]),n(c,"class","item_input svelte-ge28fj"),n(c,"type","number"),c.value=f=l[6].cx,n(e,"title",h="modify the "+l[6].type+"'s x position"),n(e,"class","svelte-ge28fj"),n(m,"class","title"),n(E,"class","item_input svelte-ge28fj"),n(E,"type","range"),E.value=z=l[6].cy,n(E,"min",0),n(E,"max",l[3]),n(T,"class","item_input svelte-ge28fj"),n(T,"type","number"),T.value=N=l[6].cy,n(d,"title",V="modify the "+l[6].type+"'s y position"),n(d,"class","svelte-ge28fj"),n(q,"class","title"),n(M,"class","item_input svelte-ge28fj"),n(M,"type","range"),M.value=G=l[6].radius,n(M,"min",1),n(M,"max",200),n(W,"class","item_input svelte-ge28fj"),n(W,"type","number"),W.value=D=l[6].radius,n(A,"title",J="modify the "+l[6].type+"'s radius"),n(A,"class","svelte-ge28fj")},m(I,U){ne(I,e,U),u(e,t),u(e,_),u(e,a),u(e,o),u(e,c),ne(I,g,U),ne(I,d,U),u(d,m),u(d,O),u(d,E),u(d,R),u(d,T),ne(I,Q,U),ne(I,A,U),u(A,q),u(A,w),u(A,M),u(A,Y),u(A,W),ee||(x=[X(a,"input",l[22]),X(c,"input",l[23]),X(E,"input",l[24]),X(T,"input",l[25]),X(M,"input",l[26]),X(W,"input",l[27])],ee=!0)},p(I,U){U&64&&r!==(r=I[6].cx)&&(a.value=r),U&4&&n(a,"max",I[2]),U&64&&f!==(f=I[6].cx)&&c.value!==f&&(c.value=f),U&64&&h!==(h="modify the "+I[6].type+"'s x position")&&n(e,"title",h),U&64&&z!==(z=I[6].cy)&&(E.value=z),U&8&&n(E,"max",I[3]),U&64&&N!==(N=I[6].cy)&&T.value!==N&&(T.value=N),U&64&&V!==(V="modify the "+I[6].type+"'s y position")&&n(d,"title",V),U&64&&G!==(G=I[6].radius)&&(M.value=G),U&64&&D!==(D=I[6].radius)&&W.value!==D&&(W.value=D),U&64&&J!==(J="modify the "+I[6].type+"'s radius")&&n(A,"title",J)},d(I){I&&(L(e),L(g),L(d),L(Q),L(A)),ee=!1,lt(x)}}}function Ht(l){let e,t,s,_,a,r=l[6].type+"",o,c,f,h,g="opacity",d,m,C,O,E,z,R,T,N,V,Q,A,q,k,w,M,G,Y,W,D,J,ee="stroke color",x,I,U,v,Z,K,te,ue="stroke width",Ee,re,fe,Le,ce,Te,Ue,De,de,Se="ðŸ—™",i,p;function H(j,F){return j[10]?Ft:Vt}let le=H(l),se=le(l),ie=(!l[5]||l[9]==="none")&&_t();function he(j,F){if(j[6].type==="circle")return Rt;if(j[6].type==="polyline")return zt}let me=he(l),$=me&&me(l);return{c(){e=b("li"),t=b("button"),se.c(),s=P(),_=b("div"),a=b("div"),o=_e(r),c=P(),f=b("label"),h=b("small"),h.textContent=g,d=P(),m=b("input"),O=P(),E=b("input"),R=P(),T=b("label"),N=b("small"),ie&&ie.c(),V=_e("fill"),Q=P(),A=b("input"),k=P(),w=b("input"),W=P(),D=b("label"),J=b("small"),J.textContent=ee,x=P(),I=b("input"),Z=P(),K=b("label"),te=b("small"),te.textContent=ue,Ee=P(),re=b("input"),Le=P(),ce=b("input"),Ue=P(),$&&$.c(),De=P(),de=b("button"),de.textContent=Se,this.h()},l(j){e=y(j,"LI",{class:!0,"aria-hidden":!0});var F=B(e);t=y(F,"BUTTON",{class:!0});var Pe=B(t);se.l(Pe),Pe.forEach(L),s=S(F),_=y(F,"DIV",{class:!0});var ae=B(_);a=y(ae,"DIV",{class:!0});var Be=B(a);o=oe(Be,r),Be.forEach(L),c=S(ae),f=y(ae,"LABEL",{class:!0});var Ie=B(f);h=y(Ie,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(h)!=="svelte-12nhgd4"&&(h.textContent=g),d=S(Ie),m=y(Ie,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,title:!0}),O=S(Ie),E=y(Ie,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0,title:!0}),Ie.forEach(L),R=S(ae),T=y(ae,"LABEL",{title:!0,class:!0});var Oe=B(T);N=y(Oe,"SMALL",{class:!0});var et=B(N);ie&&ie.l(et),V=oe(et,"fill"),et.forEach(L),Q=S(Oe),A=y(Oe,"INPUT",{type:!0,title:!0,class:!0}),k=S(Oe),w=y(Oe,"INPUT",{class:!0,type:!0}),Oe.forEach(L),W=S(ae),D=y(ae,"LABEL",{title:!0,class:!0});var Je=B(D);J=y(Je,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(J)!=="svelte-4jtig2"&&(J.textContent=ee),x=S(Je),I=y(Je,"INPUT",{class:!0,type:!0}),Je.forEach(L),Z=S(ae),K=y(ae,"LABEL",{class:!0});var Ve=B(K);te=y(Ve,"SMALL",{class:!0,"data-svelte-h":!0}),Ne(te)!=="svelte-txngkb"&&(te.textContent=ue),Ee=S(Ve),re=y(Ve,"INPUT",{class:!0,type:!0}),Le=S(Ve),ce=y(Ve,"INPUT",{class:!0,type:!0}),Ve.forEach(L),Ue=S(ae),$&&$.l(ae),ae.forEach(L),De=S(F),de=y(F,"BUTTON",{class:!0,"data-svelte-h":!0}),Ne(de)!=="svelte-1b5liiu"&&(de.textContent=Se),F.forEach(L),this.h()},h(){n(t,"class","icon_button plain deselectable"),ge(t,"selected",l[10]),n(a,"class","type svelte-ge28fj"),n(h,"class","title"),n(m,"class","item_input svelte-ge28fj"),n(m,"type","range"),n(m,"min",0),n(m,"max",1),n(m,"step",.01),m.value=l[8],n(m,"title",C="modify the "+l[6].type+"'s opacity"),n(E,"class","item_input svelte-ge28fj"),n(E,"type","number"),n(E,"min",0),n(E,"max",1),n(E,"step",.01),E.value=l[8],n(E,"title",z="modify the "+l[6].type+"'s opacity"),n(f,"class","svelte-ge28fj"),n(N,"class","title"),n(A,"type","checkbox"),A.checked=l[5],n(A,"title",q="the "+l[6].type+"'s fill is "+(l[6].enable_fill?"enabled":"disabled")),n(A,"class","svelte-ge28fj"),n(w,"class","item_input svelte-ge28fj"),n(w,"type","color"),w.disabled=M=!l[5],w.value=G=l[9]==="none"?"#000000":l[9],n(T,"title",Y="modify the "+l[6].type+"'s fill color"),n(T,"class","svelte-ge28fj"),n(J,"class","title"),n(I,"class","item_input svelte-ge28fj"),n(I,"type","color"),I.value=U=l[6].stroke??"#000000",n(D,"title",v="modify the "+l[6].type+"'s stroke color"),n(D,"class","svelte-ge28fj"),n(te,"class","title"),n(re,"class","item_input svelte-ge28fj"),n(re,"type","range"),re.value=fe=l[6].stroke_width??ze,n(ce,"class","item_input svelte-ge28fj"),n(ce,"type","number"),ce.value=Te=l[6].stroke_width??ze,n(K,"class","svelte-ge28fj"),n(_,"class","controls svelte-ge28fj"),n(de,"class","icon_button plain"),n(e,"class","mural_item_list_item selectable svelte-ge28fj"),n(e,"aria-hidden",""),ge(e,"hidden",l[10]),ge(e,"selected",l[11])},m(j,F){ne(j,e,F),u(e,t),se.m(t,null),u(e,s),u(e,_),u(_,a),u(a,o),u(_,c),u(_,f),u(f,h),u(f,d),u(f,m),u(f,O),u(f,E),u(_,R),u(_,T),u(T,N),ie&&ie.m(N,null),u(N,V),u(T,Q),u(T,A),u(T,k),u(T,w),u(_,W),u(_,D),u(D,J),u(D,x),u(D,I),u(_,Z),u(_,K),u(K,te),u(K,Ee),u(K,re),u(K,Le),u(K,ce),u(_,Ue),$&&$.m(_,null),u(e,De),u(e,de),i||(p=[X(t,"click",l[14]),X(m,"input",l[15]),X(E,"input",l[16]),X(A,"input",l[17]),X(w,"input",l[18]),X(I,"input",l[19]),X(re,"input",l[20]),X(ce,"input",l[21]),X(de,"click",l[28]),X(e,"click",l[29])],i=!0)},p(j,[F]){le!==(le=H(j))&&(se.d(1),se=le(j),se&&(se.c(),se.m(t,null))),F&1024&&ge(t,"selected",j[10]),F&64&&r!==(r=j[6].type+"")&&We(o,r),F&256&&(m.value=j[8]),F&64&&C!==(C="modify the "+j[6].type+"'s opacity")&&n(m,"title",C),F&256&&E.value!==j[8]&&(E.value=j[8]),F&64&&z!==(z="modify the "+j[6].type+"'s opacity")&&n(E,"title",z),!j[5]||j[9]==="none"?ie||(ie=_t(),ie.c(),ie.m(N,V)):ie&&(ie.d(1),ie=null),F&32&&(A.checked=j[5]),F&64&&q!==(q="the "+j[6].type+"'s fill is "+(j[6].enable_fill?"enabled":"disabled"))&&n(A,"title",q),F&32&&M!==(M=!j[5])&&(w.disabled=M),F&512&&G!==(G=j[9]==="none"?"#000000":j[9])&&(w.value=G),F&64&&Y!==(Y="modify the "+j[6].type+"'s fill color")&&n(T,"title",Y),F&64&&U!==(U=j[6].stroke??"#000000")&&(I.value=U),F&64&&v!==(v="modify the "+j[6].type+"'s stroke color")&&n(D,"title",v),F&64&&fe!==(fe=j[6].stroke_width??ze)&&(re.value=fe),F&64&&Te!==(Te=j[6].stroke_width??ze)&&ce.value!==Te&&(ce.value=Te),me===(me=he(j))&&$?$.p(j,F):($&&$.d(1),$=me&&me(j),$&&($.c(),$.m(_,null))),F&1024&&ge(e,"hidden",j[10]),F&2048&&ge(e,"selected",j[11])},i:Re,o:Re,d(j){j&&L(e),se.d(),ie&&ie.d(),$&&$.d(),i=!1,lt(p)}}}function Yt(l,e,t){let s,_,a,r,o,c,f,h,g=Re,d=()=>(g(),g=Xe(E,v=>t(6,h=v)),E),m,C=Re,O=()=>(C(),C=Xe(z,v=>t(7,m=v)),z);l.$$.on_destroy.push(()=>g()),l.$$.on_destroy.push(()=>C());let{item:E}=e;d();let{item_selection:z}=e;O();let{width:R}=e,{height:T}=e;const N=gt(),V=()=>N("action",{type:"update_item",id:h.id,data:{hidden:!h.hidden}}),Q=v=>N("action",{type:"update_item",id:h.id,data:{opacity:Number(v.currentTarget.value)}}),A=v=>N("action",{type:"update_item",id:h.id,data:{opacity:Number(v.currentTarget.value)}}),q=v=>N("action",{type:"update_item",id:h.id,data:{enable_fill:v.currentTarget.checked,fill:a??(v.currentTarget.checked?Ut:void 0)}}),k=v=>N("action",{type:"update_item",id:h.id,data:{fill:v.currentTarget.value}}),w=v=>N("action",{type:"update_item",id:h.id,data:{stroke:v.currentTarget.value}}),M=v=>N("action",{type:"update_item",id:h.id,data:{stroke_width:Number(v.currentTarget.value)}}),G=v=>N("action",{type:"update_item",id:h.id,data:{stroke_width:Number(v.currentTarget.value)}}),Y=v=>N("action",{type:"update_item",id:h.id,data:{cx:Number(v.currentTarget.value)}}),W=v=>N("action",{type:"update_item",id:h.id,data:{cx:Number(v.currentTarget.value)}}),D=v=>N("action",{type:"update_item",id:h.id,data:{cy:Number(v.currentTarget.value)}}),J=v=>N("action",{type:"update_item",id:h.id,data:{cy:Number(v.currentTarget.value)}}),ee=v=>N("action",{type:"update_item",id:h.id,data:{radius:Number(v.currentTarget.value)}}),x=v=>N("action",{type:"update_item",id:h.id,data:{radius:Number(v.currentTarget.value)}}),I=()=>N("action",{type:"remove_item",id:h.id}),U=()=>Qe(z,m=E,m);return l.$$set=v=>{"item"in v&&d(t(0,E=v.item)),"item_selection"in v&&O(t(1,z=v.item_selection)),"width"in v&&t(2,R=v.width),"height"in v&&t(3,T=v.height)},l.$$.update=()=>{l.$$.dirty&129&&t(11,s=m===E),l.$$.dirty&64&&t(5,{enable_fill:_,fill:a,hidden:r,opacity:o}=h,_,(t(4,a),t(6,h)),(t(10,r),t(6,h)),(t(13,o),t(6,h))),l.$$.dirty&48&&t(9,c=_?a??At:"none"),l.$$.dirty&8192&&t(8,f=o??1)},[E,z,R,T,a,_,h,m,f,c,r,s,N,o,V,Q,A,q,k,w,M,G,Y,W,D,J,ee,x,I,U]}class Gt extends xe{constructor(e){super(),$e(this,e,Yt,Ht,Ze,{item:0,item_selection:1,width:2,height:3})}}function ot(l,e,t){const s=l.slice();return s[6]=e[t],s}function ft(l,e){let t,s,_;return s=new Gt({props:{item:e[6],item_selection:e[0],width:e[1],height:e[2]}}),s.$on("action",e[5]),{key:l,first:null,c(){t=He(),Me(s.$$.fragment),this.h()},l(a){t=He(),Ce(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,r){ne(a,t,r),je(s,a,r),_=!0},p(a,r){e=a;const o={};r&8&&(o.item=e[6]),r&1&&(o.item_selection=e[0]),r&2&&(o.width=e[1]),r&4&&(o.height=e[2]),s.$set(o)},i(a){_||(ke(s.$$.fragment,a),_=!0)},o(a){we(s.$$.fragment,a),_=!1},d(a){a&&L(t),Ae(s,a)}}}function Kt(l){let e,t=[],s=new Map,_,a=Ye(l[3]);const r=o=>o[6];for(let o=0;o<a.length;o+=1){let c=ot(l,a,o),f=r(c);s.set(f,t[o]=ft(f,c))}return{c(){e=b("ul");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=y(o,"UL",{class:!0});var c=B(e);for(let f=0;f<t.length;f+=1)t[f].l(c);c.forEach(L),this.h()},h(){n(e,"class","width_md svelte-1gkqiw5")},m(o,c){ne(o,e,c);for(let f=0;f<t.length;f+=1)t[f]&&t[f].m(e,null);_=!0},p(o,[c]){c&15&&(a=Ye(o[3]),yt(),t=it(t,c,r,1,o,a,s,e,wt,ft,null,ot),kt())},i(o){if(!_){for(let c=0;c<a.length;c+=1)ke(t[c]);_=!0}},o(o){for(let c=0;c<t.length;c+=1)we(t[c]);_=!1},d(o){o&&L(e);for(let c=0;c<t.length;c+=1)t[c].d()}}}function qt(l,e,t){let s,{items:_}=e,{item_selection:a}=e,{width:r}=e,{height:o}=e;function c(f){Lt.call(this,l,f)}return l.$$set=f=>{"items"in f&&t(4,_=f.items),"item_selection"in f&&t(0,a=f.item_selection),"width"in f&&t(1,r=f.width),"height"in f&&t(2,o=f.height)},l.$$.update=()=>{l.$$.dirty&16&&t(3,s=_.slice().reverse())},[a,r,o,s,_,c]}class Wt extends xe{constructor(e){super(),$e(this,e,qt,Kt,Ze,{items:4,item_selection:0,width:1,height:2})}}const{Map:Et}=Ct;function ct(l,e,t){const s=l.slice();return s[45]=e[t],s}function dt(l,e,t){const s=l.slice();return s[48]=e[t],s}function ht(l,e){let t,s,_;return s=new Ot({props:{item:e[48]}}),{key:l,first:null,c(){t=He(),Me(s.$$.fragment),this.h()},l(a){t=He(),Ce(s.$$.fragment,a),this.h()},h(){this.first=t},m(a,r){ne(a,t,r),je(s,a,r),_=!0},p(a,r){e=a;const o={};r[0]&8&&(o.item=e[48]),s.$set(o)},i(a){_||(ke(s.$$.fragment,a),_=!0)},o(a){we(s.$$.fragment,a),_=!1},d(a){a&&L(t),Ae(s,a)}}}function mt(l){let e,t,s,_,a;return{c(){e=vt("line"),this.h()},l(r){e=bt(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,stroke:!0,"stroke-width":!0}),B(e).forEach(L),this.h()},h(){n(e,"x1",t=l[13].at(-2)),n(e,"y1",s=l[13].at(-1)),n(e,"x2",l[1]),n(e,"y2",l[2]),n(e,"stroke",_=l[11].stroke??rt),n(e,"stroke-width",a=l[11].stroke_width??ze)},m(r,o){ne(r,e,o)},p(r,o){o[0]&8192&&t!==(t=r[13].at(-2))&&n(e,"x1",t),o[0]&8192&&s!==(s=r[13].at(-1))&&n(e,"y1",s),o[0]&2&&n(e,"x2",r[1]),o[0]&4&&n(e,"y2",r[2]),o[0]&2048&&_!==(_=r[11].stroke??rt)&&n(e,"stroke",_),o[0]&2048&&a!==(a=r[11].stroke_width??ze)&&n(e,"stroke-width",a)},d(r){r&&L(e)}}}function Jt(l){var f,h;let e,t=[],s=new Et,_,a,r=Ye(l[3]);const o=g=>g[48];for(let g=0;g<r.length;g+=1){let d=dt(l,r,g),m=o(d);s.set(m,t[g]=ht(m,d))}let c=l[4]&&!l[0]&&l[6]==="polyline"&&((f=l[11])==null?void 0:f.type)==="polyline"&&((h=l[13])==null?void 0:h.length)&&mt(l);return{c(){e=vt("svg");for(let g=0;g<t.length;g+=1)t[g].c();_=He(),c&&c.c(),this.h()},l(g){e=bt(g,"svg",{class:!0});var d=B(e);for(let m=0;m<t.length;m+=1)t[m].l(d);_=He(),c&&c.l(d),d.forEach(L),this.h()},h(){n(e,"class","svelte-tev7zh")},m(g,d){ne(g,e,d);for(let m=0;m<t.length;m+=1)t[m]&&t[m].m(e,null);u(e,_),c&&c.m(e,null),a=!0},p(g,d){var m,C;d[0]&8&&(r=Ye(g[3]),yt(),t=it(t,d,o,1,g,r,s,e,wt,ht,_,dt),kt()),g[4]&&!g[0]&&g[6]==="polyline"&&((m=g[11])==null?void 0:m.type)==="polyline"&&((C=g[13])!=null&&C.length)?c?c.p(g,d):(c=mt(g),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},i(g){if(!a){for(let d=0;d<r.length;d+=1)ke(t[d]);a=!0}},o(g){for(let d=0;d<t.length;d+=1)we(t[d]);a=!1},d(g){g&&L(e);for(let d=0;d<t.length;d+=1)t[d].d();c&&c.d()}}}function Qt(l){let e,t,s,_,a,r;function o(d){l[30](d)}function c(d){l[31](d)}function f(d){l[32](d)}function h(d){l[33](d)}let g={scale:l[5],cancel_on_leave:!1,$$slots:{default:[Jt]},$$scope:{ctx:l}};return l[4]!==void 0&&(g.pointing=l[4]),l[0]!==void 0&&(g.pointer_down=l[0]),l[1]!==void 0&&(g.pointer_x=l[1]),l[2]!==void 0&&(g.pointer_y=l[2]),e=new Dt({props:g}),ve.push(()=>ye(e,"pointing",o)),ve.push(()=>ye(e,"pointer_down",c)),ve.push(()=>ye(e,"pointer_x",f)),ve.push(()=>ye(e,"pointer_y",h)),{c(){Me(e.$$.fragment)},l(d){Ce(e.$$.fragment,d)},m(d,m){je(e,d,m),r=!0},p(d,m){const C={};m[0]&32&&(C.scale=d[5]),m[0]&10335|m[1]&1048576&&(C.$$scope={dirty:m,ctx:d}),!t&&m[0]&16&&(t=!0,C.pointing=d[4],be(()=>t=!1)),!s&&m[0]&1&&(s=!0,C.pointer_down=d[0],be(()=>s=!1)),!_&&m[0]&2&&(_=!0,C.pointer_x=d[1],be(()=>_=!1)),!a&&m[0]&4&&(a=!0,C.pointer_y=d[2],be(()=>a=!1)),e.$set(C)},i(d){r||(ke(e.$$.fragment,d),r=!0)},o(d){we(e.$$.fragment,d),r=!1},d(d){Ae(e,d)}}}function pt(l,e){let t,s=e[45]+"",_,a,r,o;function c(){return e[35](e[45])}return{key:l,first:null,c(){t=b("button"),_=_e(s),a=P(),this.h()},l(f){t=y(f,"BUTTON",{});var h=B(t);_=oe(h,s),a=S(h),h.forEach(L),this.h()},h(){ge(t,"selected",e[15]&&e[6]===e[45]),this.first=t},m(f,h){ne(f,t,h),u(t,_),u(t,a),r||(o=X(t,"click",c),r=!0)},p(f,h){e=f,h[0]&512&&s!==(s=e[45]+"")&&We(_,s),h[0]&33344&&ge(t,"selected",e[15]&&e[6]===e[45])},d(f){f&&L(t),r=!1,o()}}}function Xt(l){let e,t,s,_,a,r,o,c=[],f=new Et,h,g,d,m,C,O,E=`${l[7]}px`,z=`${l[8]}px`,R,T,N;function V(k){l[34](k)}let Q={width:l[7],height:l[8],$$slots:{default:[Qt]},$$scope:{ctx:l}};l[5]!==void 0&&(Q.scale=l[5]),s=new Tt({props:Q}),ve.push(()=>ye(s,"scale",V));let A=Ye(l[9]);const q=k=>k[45];for(let k=0;k<A.length;k+=1){let w=ct(l,A,k),M=q(w);f.set(M,c[k]=pt(M,w))}return O=new Wt({props:{items:l[3],item_selection:l[10],width:l[7],height:l[8]}}),O.$on("action",l[37]),{c(){e=b("div"),t=b("div"),Me(s.$$.fragment),a=P(),r=b("div"),o=b("div");for(let k=0;k<c.length;k+=1)c[k].c();h=P(),g=b("button"),d=_e("clear all"),C=P(),Me(O.$$.fragment),this.h()},l(k){e=y(k,"DIV",{class:!0});var w=B(e);t=y(w,"DIV",{class:!0});var M=B(t);Ce(s.$$.fragment,M),M.forEach(L),a=S(w),r=y(w,"DIV",{class:!0});var G=B(r);o=y(G,"DIV",{class:!0});var Y=B(o);for(let D=0;D<c.length;D+=1)c[D].l(Y);Y.forEach(L),h=S(G),g=y(G,"BUTTON",{});var W=B(g);d=oe(W,"clear all"),W.forEach(L),G.forEach(L),C=S(w),Ce(O.$$.fragment,w),w.forEach(L),this.h()},h(){n(t,"class","content svelte-tev7zh"),n(o,"class","row"),g.disabled=m=!l[3].length,n(r,"class","controls svelte-tev7zh"),n(e,"class","mural svelte-tev7zh"),ge(e,"active",l[0]),Ge(e,"--width",E),Ge(e,"--height",z)},m(k,w){ne(k,e,w),u(e,t),je(s,t,null),u(e,a),u(e,r),u(r,o);for(let M=0;M<c.length;M+=1)c[M]&&c[M].m(o,null);u(r,h),u(r,g),u(g,d),u(e,C),je(O,e,null),R=!0,T||(N=X(g,"click",l[36]),T=!0)},p(k,w){const M={};w[0]&128&&(M.width=k[7]),w[0]&256&&(M.height=k[8]),w[0]&10367|w[1]&1048576&&(M.$$scope={dirty:w,ctx:k}),!_&&w[0]&32&&(_=!0,M.scale=k[5],be(()=>_=!1)),s.$set(M),w[0]&37440&&(A=Ye(k[9]),c=it(c,w,q,1,k,A,f,o,jt,pt,null,ct)),(!R||w[0]&8&&m!==(m=!k[3].length))&&(g.disabled=m);const G={};w[0]&8&&(G.items=k[3]),w[0]&1024&&(G.item_selection=k[10]),w[0]&128&&(G.width=k[7]),w[0]&256&&(G.height=k[8]),O.$set(G),(!R||w[0]&1)&&ge(e,"active",k[0]),w[0]&128&&E!==(E=`${k[7]}px`)&&Ge(e,"--width",E),w[0]&256&&z!==(z=`${k[8]}px`)&&Ge(e,"--height",z)},i(k){R||(ke(s.$$.fragment,k),ke(O.$$.fragment,k),R=!0)},o(k){we(s.$$.fragment,k),we(O.$$.fragment,k),R=!1},d(k){k&&L(e),Ae(s);for(let w=0;w<c.length;w+=1)c[w].d();Ae(O),T=!1,N()}}}function Zt(l,e,t){let s,_,a,r,o=Re,c=()=>(o(),o=Xe(_,i=>t(11,r=i)),_),f,h=Re,g=()=>(h(),h=Xe(K,i=>t(12,f=i)),K);l.$$.on_destroy.push(()=>o()),l.$$.on_destroy.push(()=>h());const d=gt();let{items:m=[]}=e,{width:C}=e,{height:O}=e,{pointing:E=void 0}=e,{pointer_down:z=void 0}=e,{pointer_x:R=void 0}=e,{pointer_y:T=void 0}=e,{scale:N=void 0}=e;const V=()=>{const i=Z==="pen"||Z==="polyline"?St(D,J,ee,x,W):Z==="circle"?Bt(R,T,I,D,J,ee,x,W):null;return i?(U(i),i):null};let{add_item:Q=(i,p)=>i.concat(p)}=e,{update_item:A=(i,p)=>Pt(i,p)}=e,{select_item_to_draw:q=i=>f||i.at(-1)}=e,{remove_item:k=(i,p)=>i.filter(H=>H!==p)}=e,{remove_all_items:w=i=>[]}=e;const M=new Map,G=i=>{switch(i.type){case"add_item":{const p=at(i.item);M.set(i.item.id,p),t(3,m=Q(m,p,i.item.id));break}case"update_item":{const p=M.get(i.id);if(!p)return;A(p,i.data);break}case"remove_item":{const p=M.get(i.id);if(!p)return;M.delete(i.id),t(3,m=k(m,p,i.id));break}case"remove_all_items":{M.clear(),t(3,m=w(m));break}}},Y=i=>{d("action",i),G(i)};let{selected_opacity:W=void 0}=e,{selected_fill:D=void 0}=e,{selected_enable_fill:J=void 0}=e,{selected_stroke:ee=void 0}=e,{selected_stroke_width:x=void 0}=e,{selected_radius:I=void 0}=e;const U=i=>{t(17,W=i.opacity),t(18,D=i.fill),t(19,J=i.enable_fill),t(20,ee=i.stroke),t(21,x=i.stroke_width),i.type==="circle"&&t(22,I=i.radius)};let{brushes:v=["pen","polyline","circle"]}=e,{selected_brush:Z=v[0]}=e,{item_selection:K=at(null)}=e;g();let te=!1;const ue=()=>{if(te||(t(29,te=!0),f))return;const i=V();i&&(Y({type:"add_item",item:i}),Z==="polyline"&&Qe(K,f=m.find(p=>nt(p).id===i.id)||null,f))},Ee=()=>{te&&t(29,te=!1)},re=(i,p)=>{const H=q(m);if(!H)return;const{id:le,type:se}=nt(H);se==="polyline"&&Y({type:"update_item",id:le,data:{append_points:[ut.x(i),ut.y(p)]}})};function fe(i){E=i,t(4,E)}function Le(i){z=i,t(0,z)}function ce(i){R=i,t(1,R)}function Te(i){T=i,t(2,T)}function Ue(i){N=i,t(5,N)}const De=i=>{Qe(K,f=null,f),t(6,Z=i)},de=()=>{Qe(K,f=null,f),Y({type:"remove_all_items"})},Se=i=>Y(i.detail);return l.$$set=i=>{"items"in i&&t(3,m=i.items),"width"in i&&t(7,C=i.width),"height"in i&&t(8,O=i.height),"pointing"in i&&t(4,E=i.pointing),"pointer_down"in i&&t(0,z=i.pointer_down),"pointer_x"in i&&t(1,R=i.pointer_x),"pointer_y"in i&&t(2,T=i.pointer_y),"scale"in i&&t(5,N=i.scale),"add_item"in i&&t(23,Q=i.add_item),"update_item"in i&&t(24,A=i.update_item),"select_item_to_draw"in i&&t(25,q=i.select_item_to_draw),"remove_item"in i&&t(26,k=i.remove_item),"remove_all_items"in i&&t(27,w=i.remove_all_items),"selected_opacity"in i&&t(17,W=i.selected_opacity),"selected_fill"in i&&t(18,D=i.selected_fill),"selected_enable_fill"in i&&t(19,J=i.selected_enable_fill),"selected_stroke"in i&&t(20,ee=i.selected_stroke),"selected_stroke_width"in i&&t(21,x=i.selected_stroke_width),"selected_radius"in i&&t(22,I=i.selected_radius),"brushes"in i&&t(9,v=i.brushes),"selected_brush"in i&&t(6,Z=i.selected_brush),"item_selection"in i&&g(t(10,K=i.item_selection))},l.$$.update=()=>{l.$$.dirty[0]&1&&(z?ue():z===!1&&Ee()),l.$$.dirty[0]&536870918&&te&&R!==void 0&&T!==void 0&&re(R,T),l.$$.dirty[0]&4096&&t(15,s=f===null),l.$$.dirty[0]&4096&&c(t(14,_=f)),l.$$.dirty[0]&2048&&t(13,a=(r==null?void 0:r.type)==="polyline"?tt(r):void 0),l.$$.dirty[0]&2048&&r&&U(r)},[z,R,T,m,E,N,Z,C,O,v,K,r,f,a,_,s,Y,W,D,J,ee,x,I,Q,A,q,k,w,G,te,fe,Le,ce,Te,Ue,De,de,Se]}class xt extends xe{constructor(e){super(),$e(this,e,Zt,Xt,Ze,{items:3,width:7,height:8,pointing:4,pointer_down:0,pointer_x:1,pointer_y:2,scale:5,add_item:23,update_item:24,select_item_to_draw:25,remove_item:26,remove_all_items:27,handle_action:28,selected_opacity:17,selected_fill:18,selected_enable_fill:19,selected_stroke:20,selected_stroke_width:21,selected_radius:22,brushes:9,selected_brush:6,item_selection:10},null,[-1,-1])}get handle_action(){return this.$$.ctx[28]}}function $t(l){let e,t,s,_,a,r,o,c,f,h,g,d,m,C,O,E,z="<code>--mural_bg</code>",R,T,N,V,Q,A,q,k=pe(l[0],1)+"",w,M,G,Y,W,D,J,ee,x,I=pe(l[1],1)+"",U,v,Z,K,te,ue,Ee,re,fe,Le,ce;function Te(p){l[10](p)}function Ue(p){l[11](p)}function De(p){l[12](p)}function de(p){l[13](p)}function Se(p){l[14](p)}let i={width:l[0],height:l[1]};return l[7]!==void 0&&(i.items=l[7]),l[3]!==void 0&&(i.scale=l[3]),l[4]!==void 0&&(i.pointer_down=l[4]),l[5]!==void 0&&(i.pointer_x=l[5]),l[6]!==void 0&&(i.pointer_y=l[6]),t=new xt({props:i}),ve.push(()=>ye(t,"items",Te)),ve.push(()=>ye(t,"scale",Ue)),ve.push(()=>ye(t,"pointer_down",De)),ve.push(()=>ye(t,"pointer_x",de)),ve.push(()=>ye(t,"pointer_y",Se)),h=new Nt({props:{content:`<Mural
	width="${l[0]}px"
	height="${l[1]}px"
	scale={${l[3]&&pe(l[3],3)}}
	pointer_x={${l[5]&&pe(l[5],1)}}
	pointer_y={${l[6]&&pe(l[6],1)}}
	pointer_down={${l[4]}}
>
	<Mural_Item_List
		items={[ ... ]}
	/>
</Mural>`}}),{c(){e=b("div"),Me(t.$$.fragment),c=P(),f=b("section"),Me(h.$$.fragment),g=P(),d=b("section"),m=b("form"),C=b("fieldset"),O=b("label"),E=b("div"),E.innerHTML=z,R=P(),T=b("input"),N=P(),V=b("label"),Q=b("div"),A=_e("width "),q=b("code"),w=_e(k),M=_e("px"),G=P(),Y=b("input"),W=P(),D=b("label"),J=b("div"),ee=_e("height "),x=b("code"),U=_e(I),v=_e("px"),Z=P(),K=b("input"),te=P(),ue=b("button"),Ee=_e("reset settings"),this.h()},l(p){e=y(p,"DIV",{class:!0});var H=B(e);Ce(t.$$.fragment,H),c=S(H),f=y(H,"SECTION",{class:!0});var le=B(f);Ce(h.$$.fragment,le),le.forEach(L),g=S(H),d=y(H,"SECTION",{class:!0});var se=B(d);m=y(se,"FORM",{});var ie=B(m);C=y(ie,"FIELDSET",{});var he=B(C);O=y(he,"LABEL",{});var me=B(O);E=y(me,"DIV",{class:!0,"data-svelte-h":!0}),Ne(E)!=="svelte-iv5je9"&&(E.innerHTML=z),R=S(me),T=y(me,"INPUT",{type:!0}),me.forEach(L),N=S(he),V=y(he,"LABEL",{});var $=B(V);Q=y($,"DIV",{class:!0});var j=B(Q);A=oe(j,"width "),q=y(j,"CODE",{});var F=B(q);w=oe(F,k),M=oe(F,"px"),F.forEach(L),j.forEach(L),G=S($),Y=y($,"INPUT",{type:!0,min:!0,max:!0}),$.forEach(L),W=S(he),D=y(he,"LABEL",{});var Pe=B(D);J=y(Pe,"DIV",{class:!0});var ae=B(J);ee=oe(ae,"height "),x=y(ae,"CODE",{});var Be=B(x);U=oe(Be,I),v=oe(Be,"px"),Be.forEach(L),ae.forEach(L),Z=S(Pe),K=y(Pe,"INPUT",{type:!0,min:!0,max:!0}),Pe.forEach(L),te=S(he),ue=y(he,"BUTTON",{type:!0,class:!0});var Ie=B(ue);Ee=oe(Ie,"reset settings"),Ie.forEach(L),he.forEach(L),ie.forEach(L),se.forEach(L),H.forEach(L),this.h()},h(){n(f,"class","svelte-17r4wzu"),n(E,"class","title"),n(T,"type","color"),n(Q,"class","title"),n(Y,"type","range"),n(Y,"min",0),n(Y,"max",Ke*2),n(J,"class","title"),n(K,"type","range"),n(K,"min",0),n(K,"max",qe),n(ue,"type","button"),ue.disabled=re=l[4]===void 0&&l[5]===void 0&&l[6]===void 0&&l[0]===Ke&&l[1]===qe&&l[2]===void 0,n(ue,"class","svelte-17r4wzu"),n(d,"class","markup svelte-17r4wzu"),n(e,"class","box width_full"),Ge(e,"--mural_bg",ll)},m(p,H){ne(p,e,H),je(t,e,null),u(e,c),u(e,f),je(h,f,null),u(e,g),u(e,d),u(d,m),u(m,C),u(C,O),u(O,E),u(O,R),u(O,T),Fe(T,l[2]),u(C,N),u(C,V),u(V,Q),u(Q,A),u(Q,q),u(q,w),u(q,M),u(V,G),u(V,Y),Fe(Y,l[0]),u(C,W),u(C,D),u(D,J),u(J,ee),u(J,x),u(x,U),u(x,v),u(D,Z),u(D,K),Fe(K,l[1]),u(C,te),u(C,ue),u(ue,Ee),fe=!0,Le||(ce=[X(T,"input",l[15]),X(Y,"change",l[16]),X(Y,"input",l[16]),X(K,"change",l[17]),X(K,"input",l[17]),X(ue,"click",l[9])],Le=!0)},p(p,H){const le={};H&1&&(le.width=p[0]),H&2&&(le.height=p[1]),!s&&H&128&&(s=!0,le.items=p[7],be(()=>s=!1)),!_&&H&8&&(_=!0,le.scale=p[3],be(()=>_=!1)),!a&&H&16&&(a=!0,le.pointer_down=p[4],be(()=>a=!1)),!r&&H&32&&(r=!0,le.pointer_x=p[5],be(()=>r=!1)),!o&&H&64&&(o=!0,le.pointer_y=p[6],be(()=>o=!1)),t.$set(le);const se={};H&123&&(se.content=`<Mural
	width="${p[0]}px"
	height="${p[1]}px"
	scale={${p[3]&&pe(p[3],3)}}
	pointer_x={${p[5]&&pe(p[5],1)}}
	pointer_y={${p[6]&&pe(p[6],1)}}
	pointer_down={${p[4]}}
>
	<Mural_Item_List
		items={[ ... ]}
	/>
</Mural>`),h.$set(se),H&4&&Fe(T,p[2]),(!fe||H&1)&&k!==(k=pe(p[0],1)+"")&&We(w,k),H&1&&Fe(Y,p[0]),(!fe||H&2)&&I!==(I=pe(p[1],1)+"")&&We(U,I),H&2&&Fe(K,p[1]),(!fe||H&119&&re!==(re=p[4]===void 0&&p[5]===void 0&&p[6]===void 0&&p[0]===Ke&&p[1]===qe&&p[2]===void 0))&&(ue.disabled=re)},i(p){fe||(ke(t.$$.fragment,p),ke(h.$$.fragment,p),fe=!0)},o(p){we(t.$$.fragment,p),we(h.$$.fragment,p),fe=!1},d(p){p&&L(e),Ae(t),Ae(h),Le=!1,lt(ce)}}}function el(l){let e,t;return e=new It({props:{tome:l[8],$$slots:{default:[$t]},$$scope:{ctx:l}}}),{c(){Me(e.$$.fragment)},l(s){Ce(e.$$.fragment,s)},m(s,_){je(e,s,_),t=!0},p(s,[_]){const a={};_&262399&&(a.$$scope={dirty:_,ctx:s}),e.$set(a)},i(s){t||(ke(e.$$.fragment,s),t=!0)},o(s){we(e.$$.fragment,s),t=!1},d(s){Ae(e,s)}}}const tl="Mural",Ke=750,qe=512,ll="var(--bg)";function il(l,e,t){const s=Mt(tl);let _=Ke,a=qe,r,o,c,f,h;const g=()=>{t(4,c=void 0),t(5,f=void 0),t(6,h=void 0),t(0,_=Ke),t(1,a=qe),t(2,r=void 0)};let d=[];function m(V){d=V,t(7,d)}function C(V){o=V,t(3,o)}function O(V){c=V,t(4,c)}function E(V){f=V,t(5,f)}function z(V){h=V,t(6,h)}function R(){r=this.value,t(2,r)}function T(){_=st(this.value),t(0,_)}function N(){a=st(this.value),t(1,a)}return[_,a,r,o,c,f,h,d,s,g,m,C,O,E,z,R,T,N]}class cl extends xe{constructor(e){super(),$e(this,e,il,el,Ze,{})}}export{cl as component};
